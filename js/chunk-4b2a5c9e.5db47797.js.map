{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./src/views/backend/Articles.vue","webpack:///./src/components/Modal/ArticleModal.vue","webpack:///./src/components/Modal/ArticleModal.vue?7842","webpack:///./src/components/Modal/ViewArticleModal.vue","webpack:///./src/components/Modal/ViewArticleModal.vue?d211","webpack:///./src/views/backend/Articles.vue?720d"],"names":["_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","i","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","push","value","length","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","class","isLoading","to","articles","item","key","id","isPublic","imageUrl","src","alt","title","description","tag","author","Date","create_at","toISOString","split","updateDate","type","getSingle","for","href","openModal","pagination","getArticle","article","tempArticle","ref","editArticle","updateArticle","deleteArticle","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","isAdd","update","props","Object","emits","components","ArticleForm","mixins","modalMixin","methods","articleForm","this","$refs","addForm","validate","then","success","valid","Math","round","getTime","$emit","render","publicDate","edit","data","watch","content","innerHTML","hideModal","inject","Pagination","DeleteModal","ArticleModal","ViewArticleModal","page","$http","get","res","catch","emitter","emit","message","updateModal","viewModal","delModal","put","current_page","delete","mounted"],"mappings":"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","file":"js/chunk-4b2a5c9e.5db47797.js","sourcesContent":["export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","<template>\n  <Loading :isLoading=\"isLoading\" />\n  <div class=\"d-flex align-items-center justify-content-between mb-5 \">\n    <h2 class=\"text-dark\">文章列表</h2>\n    <router-link :to=\"`/dashboard/newArticle`\" class=\"btn btn-secondary text-white shadow-none\">\n      新增文章\n    </router-link>\n  </div>\n  <div class=\"bg-white rounded overflow-hidden border border-secondary\">\n    <table class=\"table table-borderless mb-0\">\n      <thead class=\"bg-secondary text-white\">\n        <tr>\n          <th class=\"w-10\">文章主圖</th>\n          <th class=\"w-20\">文章標題</th>\n          <th class=\"w-20\">描述</th>\n          <th>文章分類</th>\n          <th>作者</th>\n          <th>建立時間</th>\n          <th>更新時間</th>\n          <th>是否公開</th>\n          <th class=\"text-center\">預覽</th>\n          <th>編輯 / 刪除</th>\n        </tr>\n      </thead>\n      <tbody>\n        <template v-for=\"(item, key) in articles\" :key=\"item.id\">\n          <tr :class=\"{ 'table-primary': item.isPublic }\">\n            <td class=\"w-10 \">\n              <img\n                v-if=\"item.imageUrl\"\n                class=\"w-100 small-size\"\n                :src=\"item.imageUrl\"\n                :alt=\"item.title\"\n              />\n            </td>\n            <td class=\"w-20 py-6\">{{ item.title }}</td>\n            <td class=\"w-20\">{{ item.description }}</td>\n            <td>\n              <p v-for=\"(tag, key) in item.tag\" :key=\"key\">＃{{ tag }}</p>\n            </td>\n            <td>{{ item.author }}</td>\n            <td>{{ new Date(item.create_at * 1000).toISOString().split(\"T\")[0] }}</td>\n            <td v-if=\"item.updateDate\">\n              {{ new Date(item.updateDate * 1000).toISOString().split(\"T\")[0] }}\n            </td>\n            <td v-else>\n              {{ new Date(item.create_at * 1000).toISOString().split(\"T\")[0] }}\n            </td>\n            <td>\n              <div class=\"form-check form-switch\">\n                <input\n                  class=\"form-check-input\"\n                  type=\"checkbox\"\n                  :id=\"'enabled' + key\"\n                  v-model=\"item.isPublic\"\n                  @click=\"getSingle(item, 'status')\"\n                />\n                <label v-if=\"item.isPublic\" class=\"form-check-label\" :for=\"'enabled' + key\">\n                  公開\n                </label>\n                <label v-else class=\"form-check-label\" :for=\"'enabled' + key\">未公開</label>\n              </div>\n            </td>\n            <td>\n              <a\n                href=\"#\"\n                class=\" text-secondary text-center shadow-none eye-hover\"\n                @click.prevent=\"getSingle(item, 'view')\"\n              >\n                <span class=\"material-icons text-lg \">\n                  visibility\n                </span>\n              </a>\n            </td>\n            <td>\n              <button\n                type=\"button\"\n                class=\"btn btn-sm btn-secondary text-white\"\n                @click=\"getSingle(item, 'modal')\">\n                編輯\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-sm btn-outline-secondary white-hover ms-2\"\n                @click=\"openModal('delete', item)\">\n                刪除\n              </button>\n            </td>\n          </tr>\n        </template>\n      </tbody>\n    </table>\n    <div class=\"d-flex justify-content-end align-items-center py-4 px-6 bg-secondary \">\n      <Pagination :pagination=\"pagination\" @emit-page=\"getArticle\" />\n    </div>\n  </div>\n  <ViewArticleModal :article=\"tempArticle\" ref=\"viewModal\" @edit=\"editArticle\" />\n  <ArticleModal :article=\"tempArticle\" ref=\"updateModal\" @update=\"updateArticle\" />\n  <DeleteModal :item=\"tempArticle\" :type=\"'normal'\" ref=\"delModal\" @delete=\"deleteArticle\" />\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination.vue';\nimport DeleteModal from '@/components/Modal/DeleteModal.vue';\nimport ArticleModal from '@/components/Modal/ArticleModal.vue';\nimport ViewArticleModal from '@/components/Modal/ViewArticleModal.vue';\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      articles: [],\n      pagination: {},\n      tempArticle: {},\n    };\n  },\n  inject: ['emitter'],\n  components: {\n    Pagination,\n    DeleteModal,\n    ArticleModal,\n    ViewArticleModal,\n  },\n  methods: {\n    getArticle(page = 1) {\n      this.isLoading = true;\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/articles?page=${page}`,\n        )\n        .then((res) => {\n          if (res.data.success) {\n            this.articles = res.data.articles;\n            this.pagination = res.data.pagination;\n            this.isLoading = false;\n          } else {\n            this.isLoading = false;\n          }\n        })\n        .catch(() => {\n          this.emitter.emit('push-message', {\n            type: 'error',\n            message: '發生錯誤，請重新整理頁面',\n          });\n        });\n    },\n    getSingle(item, type) {\n      this.isLoading = true;\n      this.$http\n        .get(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/article/${item.id}`)\n        .then((res) => {\n          if (res.data.success) {\n            this.tempArticle = res.data.article;\n            this.isLoading = false;\n            if (type === 'modal') {\n              if (!this.tempArticle.tag) {\n                this.tempArticle.tag = [];\n              }\n              this.openModal('edit', this.tempArticle);\n            } else if (type === 'status') {\n              this.tempArticle.isPublic = !this.tempArticle.isPublic;\n              this.updateArticle(this.tempArticle);\n            } else if (type === 'view') {\n              this.openModal('view', this.tempArticle);\n            }\n          } else {\n            this.isLoading = false;\n          }\n        })\n        .catch(() => {\n          this.emitter.emit('push-message', {\n            type: 'error',\n            message: '發生錯誤，請重新整理頁面',\n          });\n        });\n    },\n    openModal(type, item) {\n      if (type === 'edit') {\n        this.$refs.updateModal.openModal();\n      } else if (type === 'view') {\n        this.$refs.viewModal.openModal();\n      } else if (type === 'delete') {\n        this.tempArticle = { ...item };\n        this.$refs.delModal.openModal();\n      }\n    },\n    updateArticle(item) {\n      this.isLoading = true;\n      const data = {\n        data: item,\n      };\n      this.$http\n        .put(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/article/${item.id}`,\n          data,\n        )\n        .then((res) => {\n          if (res.data.success) {\n            this.emitter.emit('push-message', {\n              type: 'success',\n              message: res.data.message,\n            });\n            this.$refs.updateModal.hideModal();\n            this.getArticle(this.pagination.current_page);\n          } else {\n            this.emitter.emit('push-message', {\n              type: 'error',\n              message: res.data.message,\n            });\n          }\n        })\n        .catch(() => {\n          this.emitter.emit('push-message', {\n            type: 'error',\n            message: '發生錯誤，請重新整理頁面',\n          });\n        });\n    },\n    deleteArticle() {\n      this.isLoading = true;\n      this.$http\n        .delete(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/article/${this.tempArticle.id}`,\n        )\n        .then((res) => {\n          if (res.data.success) {\n            this.emitter.emit('push-message', {\n              type: 'success',\n              message: res.data.message,\n            });\n            this.$refs.delModal.hideModal();\n            this.getArticle(this.pagination.current_page);\n          } else {\n            this.emitter.emit('push-message', {\n              type: 'error',\n              message: res.data.message,\n            });\n          }\n        })\n        .catch(() => {\n          this.emitter.emit('push-message', {\n            type: 'error',\n            message: '發生錯誤，請重新整理頁面',\n          });\n        });\n    },\n    editArticle() {\n      this.$refs.updateModal.openModal();\n    },\n  },\n  mounted() {\n    this.getArticle();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"updateModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-secondary text-white py-4\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">編輯文章</h5>\n          <button\n            type=\"button\"\n            class=\"btn-close btn-close-white\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <ArticleForm :article=\"article\" :isAdd=\"false\" ref=\"articleForm\" />\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary white-hover\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button type=\"button\" class=\"btn btn-secondary text-white\" @click=\"update\">\n            確認編輯\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\nimport ArticleForm from '@/components/ArticleForm.vue';\n\nexport default {\n  props: {\n    article: {\n      type: Object,\n    },\n  },\n  emits: ['update'],\n  components: {\n    ArticleForm,\n  },\n  mixins: [modalMixin],\n  methods: {\n    update() {\n      const { articleForm } = this.$refs;\n      articleForm.$refs.addForm.validate().then((success) => {\n        if (success.valid) {\n          const updateDate = Math.round(new Date().getTime() / 1000);\n          this.updateArticle = {\n            updateDate,\n            ...this.article,\n          };\n          this.$emit('update', this.updateArticle);\n        }\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./ArticleModal.vue?vue&type=template&id=b213a442\"\nimport script from \"./ArticleModal.vue?vue&type=script&lang=js\"\nexport * from \"./ArticleModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div\n    class=\"modal fade\"\n    id=\"updateModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-secondary text-white py-4\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ article.title }}</h5>\n          <button\n            type=\"button\"\n            class=\"btn-close btn-close-white\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body text-dark\">\n          <h2 class=\"mb-4\">{{ article.title }}</h2>\n          <div class=\"d-flex mb-4\">\n            <div\n              v-for=\"(item, key) in article.tag\"\n              :key=\"key\"\n              class=\"bg-primary py-1 px-4 rounded-pill text-xs me-4\"\n            >\n              #{{ item }}\n            </div>\n          </div>\n          <div class=\"d-flex justify-content-between mb-4\">\n            <p>作者 : {{ article.author }}</p>\n            <p>發布日期 : {{ publicDate }}</p>\n          </div>\n          <img class=\"w-100 mb-6\" v-if=\"article.imageUrl\" :src=\"article.imageUrl\" />\n          <div ref=\"content\"></div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary white-hover\"\n            data-bs-dismiss=\"modal\"\n          >\n            關閉\n          </button>\n          <button type=\"button\" class=\"btn btn-secondary text-white\" @click=\"edit\">\n            編輯文章\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    article: {\n      type: Object,\n    },\n  },\n  emits: ['edit'],\n  data() {\n    return {\n      publicDate: '',\n    };\n  },\n  watch: {\n    article() {\n      [this.publicDate] = new Date(this.article.create_at * 1000).toISOString().split('T');\n      this.$refs.content.innerHTML = this.article.content;\n    },\n  },\n  mixins: [modalMixin],\n  methods: {\n    edit() {\n      this.hideModal();\n      this.$emit('edit');\n    },\n  },\n};\n</script>\n","import { render } from \"./ViewArticleModal.vue?vue&type=template&id=07aca2c8\"\nimport script from \"./ViewArticleModal.vue?vue&type=script&lang=js\"\nexport * from \"./ViewArticleModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Articles.vue?vue&type=template&id=07011b22\"\nimport script from \"./Articles.vue?vue&type=script&lang=js\"\nexport * from \"./Articles.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}