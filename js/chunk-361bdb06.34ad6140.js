(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-361bdb06"],{"7cb4":function(e,t,c){"use strict";c.r(t);var a=c("7a23"),o={class:"container pt-15"},r={class:"container mt-10 mt-sm-12 border-bottom border-light pb-15 mb-15"},l=Object(a["createVNode"])("span",{class:"material-icons me-3"}," reply ",-1),s=Object(a["createTextVNode"])(" 返回購物車 "),n={class:"row row-cols-1 row-cols-lg-2 flex-column-reverse flex-lg-row gx-5"},d={class:"col"},i=Object(a["createVNode"])("p",{class:"text-xl rounded-top bg-title p-4"},"訂單資訊",-1),b={class:"bg-table px-8 rounded-bottom mb-8"},m=Object(a["createVNode"])("div",{class:"row py-4 align-items-center text-dark border-bottom"},[Object(a["createVNode"])("div",{class:"col-6"},[Object(a["createVNode"])("p",null,"商品資訊")]),Object(a["createVNode"])("div",{class:"col-3"},[Object(a["createVNode"])("p",null,"數量")]),Object(a["createVNode"])("div",{class:"col-3"},[Object(a["createVNode"])("p",null,"小計")])],-1),u={class:"col-6"},p={class:"d-flex align-items-center"},j={class:"col-3"},O={class:"col-3"},f={class:"row text-dark px-4 py-6 border-top border-white border-2"},V=Object(a["createVNode"])("div",{class:"col-9 mb-4"},[Object(a["createVNode"])("p",{class:"ftext-lg"},"小計：")],-1),N={class:"col-3 mb-4"},g={class:"text-lg text-end"},v={key:0,class:"col-9 mb-4"},x=Object(a["createVNode"])("p",{class:"fw-bold text-lg text-secondary"},"折扣",-1),h={key:1,class:"col-3"},k={class:"fw-bold text-lg text-end text-secondary"},y=Object(a["createVNode"])("div",{class:"col-9"},[Object(a["createVNode"])("p",{class:"fw-bold text-lg"},"總計：")],-1),w={class:"col-3"},C={class:"fw-bold text-lg text-end"},L=Object(a["createStaticVNode"])('<p class="text-xl rounded-top bg-title p-4">購物須知</p><div class="bg-table p-8 rounded-bottom text-dark"><h4 class="fw-bold text-base mb-2">商品購買須知</h4><p class="mb-6"> 產品因拍攝關係顏色可能略有差異，實際以廠商出貨為主。 商品情境照為示意用，僅商品主體不包含其他配件，請以規格內容物為主。 <br> RingRing盡可能確保所列商品備貨充足，但偶爾仍會有產品售罄的情況。如您所訂購的商品庫存不足，我們將盡快以電子郵件通知您。任何訂單變動均會在訂單總額與出貨訊息內更新。 </p><h4 class="fw-bold text-base mb-2">退換貨須知</h4><p> 依《消費者保護法》的規定，於全站購物皆享有商品到貨【七日猶豫期】（含例假日）之權益。若收到的商品有任何問題，可於猶豫期內申請退貨。 </p></div>',2),T={class:"col mb-9 mb-lg-0"};function B(e,t,c,B,S,F){var $=Object(a["resolveComponent"])("Loading"),_=Object(a["resolveComponent"])("Progress"),D=Object(a["resolveComponent"])("router-link"),U=Object(a["resolveComponent"])("Form");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])($,{isLoading:S.isLoading},null,8,["isLoading"]),Object(a["createVNode"])("div",o,[Object(a["createVNode"])(_,{step:"2"})]),Object(a["createVNode"])("div",r,[Object(a["createVNode"])(D,{class:"d-inline-flex align-items-center mb-4",to:"/cart"},{default:Object(a["withCtx"])((function(){return[l,s]})),_:1}),Object(a["createVNode"])("div",n,[Object(a["createVNode"])("div",d,[i,Object(a["createVNode"])("div",b,[m,(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(S.cart,(function(t){return Object(a["openBlock"])(),Object(a["createBlock"])("div",{key:t.id,class:"row py-4 align-items-center text-dark border-bottom "},[Object(a["createVNode"])("div",u,[Object(a["createVNode"])("div",p,[Object(a["createVNode"])("img",{class:"w-40 me-4",src:t.product.imageUrl,alt:t.product.title},null,8,["src","alt"]),Object(a["createVNode"])("p",null,Object(a["toDisplayString"])(t.product.title),1)])]),Object(a["createVNode"])("div",j,[Object(a["createVNode"])("p",null,Object(a["toDisplayString"])(t.qty),1)]),Object(a["createVNode"])("div",O,[Object(a["createVNode"])("p",null,"NT$"+Object(a["toDisplayString"])(e.toCurrency(t.total)),1)])])})),128)),Object(a["createVNode"])("div",f,[V,Object(a["createVNode"])("div",N,[Object(a["createVNode"])("p",g,"NT$"+Object(a["toDisplayString"])(e.toCurrency(S.total)),1)]),S.useCoupon?(Object(a["openBlock"])(),Object(a["createBlock"])("div",v,[x])):Object(a["createCommentVNode"])("",!0),S.useCoupon?(Object(a["openBlock"])(),Object(a["createBlock"])("div",h,[Object(a["createVNode"])("p",k," -NT"+Object(a["toDisplayString"])(e.toCurrency(S.total-S.final_total)),1)])):Object(a["createCommentVNode"])("",!0),y,Object(a["createVNode"])("div",w,[Object(a["createVNode"])("p",C,"NT$"+Object(a["toDisplayString"])(e.toCurrency(S.final_total)),1)])])]),L]),Object(a["createVNode"])("div",T,[Object(a["createVNode"])(U)])])])],64)}c("99af");var S=c("ad18"),F=(c("b0c0"),Object(a["createVNode"])("p",{class:"text-xl rounded-top bg-title p-4"},"顧客資訊",-1)),$={class:"form-floating form-downline mb-3"},_=Object(a["createVNode"])("label",{for:"name",class:"form-label"},[Object(a["createTextVNode"])("姓名 "),Object(a["createVNode"])("sup",null,"*"),Object(a["createTextVNode"])("：")],-1),D={class:"form-floating form-downline mb-3"},U=Object(a["createVNode"])("label",{for:"email"},[Object(a["createTextVNode"])("電子郵件 "),Object(a["createVNode"])("sup",null,"*"),Object(a["createTextVNode"])("：")],-1),q={class:"form-floating form-downline mb-3"},P=Object(a["createVNode"])("label",{for:"tel"},[Object(a["createTextVNode"])("聯絡電話 "),Object(a["createVNode"])("sup",null,"*"),Object(a["createTextVNode"])("：")],-1),M={class:"form-floating form-downline mb-8"},E=Object(a["createVNode"])("label",{for:"address"},[Object(a["createTextVNode"])("地址 "),Object(a["createVNode"])("sup",null,"*"),Object(a["createTextVNode"])("：")],-1),J={class:"mb-8"},R=Object(a["createVNode"])("label",{for:"exampleFormControlTextarea1",class:"form-label text-dark px-4"},"備註：",-1),I={class:"form-check mb-3"},z=Object(a["createVNode"])("label",{class:"form-check-label text-dark",for:"flexCheckChecked"},[Object(a["createTextVNode"])(" 我已閱讀並同意網站的 條款與條件 "),Object(a["createVNode"])("sup",null,"*")],-1),A=Object(a["createVNode"])("button",{type:"submit",class:"w-100 btn-lg btn btn-secondary secondary-hover text-white shadow-sm mb-6"}," 送出訂單 ",-1);function G(e,t,c,o,r,l){var s=Object(a["resolveComponent"])("Loading"),n=Object(a["resolveComponent"])("Field"),d=Object(a["resolveComponent"])("ErrorMessage"),i=Object(a["resolveComponent"])("Form",!0);return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])(s,{isLoading:r.isLoading},null,8,["isLoading"]),F,Object(a["createVNode"])(i,{ref:"form",onSubmit:l.onSubmit,class:"bg-table rounded-bottom py-6 px-8"},{default:Object(a["withCtx"])((function(e){var c=e.errors;return[Object(a["createVNode"])("div",$,[Object(a["createVNode"])(n,{id:"name",name:"姓名",type:"text",class:["form-control",{"is-invalid":c["姓名"]}],placeholder:"請輸入姓名",rules:"required",modelValue:r.form.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.form.user.name=e})},null,8,["class","modelValue"]),_,Object(a["createVNode"])(d,{name:"姓名",class:"invalid-feedback"})]),Object(a["createVNode"])("div",D,[Object(a["createVNode"])(n,{id:"email",name:"email",type:"email",class:["form-control",{"is-invalid":c["email"]}],placeholder:"請輸入 Email",rules:"email|required",modelValue:r.form.user.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.form.user.email=e})},null,8,["class","modelValue"]),U,Object(a["createVNode"])(d,{name:"email",class:"invalid-feedback"})]),Object(a["createVNode"])("div",q,[Object(a["createVNode"])(n,{id:"tel",name:"聯絡電話",type:"tel",class:["form-control",{"is-invalid":c["聯絡電話"]}],placeholder:"請輸入聯絡電話",rules:l.isPhone,modelValue:r.form.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.form.user.tel=e})},null,8,["class","rules","modelValue"]),P,Object(a["createVNode"])(d,{name:"聯絡電話",class:"invalid-feedback"})]),Object(a["createVNode"])("div",M,[Object(a["createVNode"])(n,{id:"address",name:"地址",type:"text",class:["form-control",{"is-invalid":c["地址"]}],placeholder:"請輸入地址",rules:"required",modelValue:r.form.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.form.user.address=e})},null,8,["class","modelValue"]),E,Object(a["createVNode"])(d,{name:"地址",class:"invalid-feedback"})]),Object(a["createVNode"])("div",J,[R,Object(a["withDirectives"])(Object(a["createVNode"])("textarea",{class:"form-control bg-transparent border-secondary",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.form.message=e})},null,512),[[a["vModelText"],r.form.message]])]),Object(a["createVNode"])("div",I,[Object(a["createVNode"])(n,{class:["form-check-input",{"is-invalid":c["check"]}],id:"flexCheckChecked",name:"check",type:"checkbox",value:"checked",rules:l.isChecked},null,8,["class","rules"]),z,Object(a["createVNode"])(d,{name:"check",class:"invalid-feedback"})]),A]})),_:1},8,["onSubmit"])],64)}var H={data:function(){return{isLoading:!1,form:{user:{name:"",email:"",tel:"",address:""},message:""}}},inject:["emitter"],methods:{isPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"請輸入正確的電話號碼"},isChecked:function(e){return!(!e||!e.length)||"請勾選同意網站的條款與條件"},onSubmit:function(){var e=this,t={data:this.form};this.isLoading=!0,this.$http.post("".concat("https://vue3-course-api.hexschool.io/","api/").concat("chiayu","/order"),t).then((function(t){t.data.success?(e.emitter.emit("push-message",{type:"success",message:t.data.message}),e.emitter.emit("update-cart"),e.$refs.form.resetForm(),e.$router.push({name:"check",params:{order:t.data.orderId}}),e.isLoading=!1):(e.isLoading=!1,e.emitter.emit("push-message",{type:"error",message:t.data.message}))})).catch((function(){e.emitter.emit("push-message",{type:"error",message:"發生錯誤，請重新整理頁面"})}))}}};H.render=G;var K=H,Q={data:function(){return{cart:[],final_total:0,total:0,isLoading:!1,useCoupon:!1}},components:{Progress:S["a"],Form:K},inject:["emitter"],methods:{getCart:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("chiayu","/cart");this.$http.get(t).then((function(t){t.data.success?(e.cart=t.data.data.carts,e.final_total=Math.round(t.data.data.final_total),e.total=t.data.data.total,e.total!==e.final_total&&0!==e.final_total?e.useCoupon=!0:e.useCoupon=!1,e.isLoading=!1,e.cart.length<=0&&(e.emitter.emit("push-message",{type:"warning",message:"訂單已送出，如有疑問請洽客服"}),e.$router.push("/shop"))):e.isLoading=!1})).catch((function(){e.emitter.emit("push-message",{type:"error",message:"發生錯誤，請重新整理頁面"})}))}},mounted:function(){this.getCart()}};Q.render=B;t["default"]=Q},ad18:function(e,t,c){"use strict";var a=c("7a23"),o={class:"d-flex justify-content-around w-md-75 w-100 w-lg-50 mx-auto"},r={class:"d-flex flex-column align-items-center"},l=Object(a["createVNode"])("p",null,"購物車",-1),s={class:"d-flex flex-column align-items-center"},n=Object(a["createVNode"])("p",null,"填寫資訊",-1),d={class:"d-flex flex-column align-items-center"},i=Object(a["createVNode"])("p",null,"確認訂單",-1),b={class:"d-flex flex-column align-items-center"},m=Object(a["createVNode"])("p",null,"完成購物",-1);function u(e,t,c,u,p,j){return Object(a["openBlock"])(),Object(a["createBlock"])("ul",o,[Object(a["createVNode"])("li",r,[Object(a["createVNode"])("div",{class:["d-flex align-items-center justify-content-center circle rounded-circle border mb-4",{"progress-active":"1"===c.step}]}," 1 ",2),l]),Object(a["createVNode"])("li",s,[Object(a["createVNode"])("div",{class:["d-flex align-items-center justify-content-center circle  rounded-circle border mb-4",{"progress-active":"2"===c.step}]}," 2 ",2),n]),Object(a["createVNode"])("li",d,[Object(a["createVNode"])("div",{class:["d-flex align-items-center justify-content-center circle rounded-circle border mb-4",{"progress-active":"3"===c.step}]}," 3 ",2),i]),Object(a["createVNode"])("li",b,[Object(a["createVNode"])("div",{class:["d-flex align-items-center justify-content-center circle rounded-circle border mb-4",{"progress-active":"4"===c.step}]}," 4 ",2),m])])}var p={props:{step:String}};p.render=u;t["a"]=p}}]);
//# sourceMappingURL=chunk-361bdb06.34ad6140.js.map