(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6926fb34"],{"057f":function(t,e,r){var c=r("fc6a"),o=r("241c").f,n={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==n.call(t)?i(t):o(c(t))}},"159b":function(t,e,r){var c=r("da84"),o=r("fdbc"),n=r("17c2"),a=r("9112");for(var i in o){var s=c[i],l=s&&s.prototype;if(l&&l.forEach!==n)try{a(l,"forEach",n)}catch(d){l.forEach=n}}},"17c2":function(t,e,r){"use strict";var c=r("b727").forEach,o=r("a640"),n=o("forEach");t.exports=n?[].forEach:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,r){var c=r("d039"),o=r("b622"),n=r("2d00"),a=o("species");t.exports=function(t){return n>=51||!c((function(){var e=[],r=e.constructor={};return r[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2532:function(t,e,r){"use strict";var c=r("23e7"),o=r("5a34"),n=r("1d80"),a=r("ab13");c({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(n(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,r){var c=r("861d"),o=r("c6b6"),n=r("b622"),a=n("match");t.exports=function(t){var e;return c(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==o(t))}},"5a34":function(t,e,r){var c=r("44e7");t.exports=function(t){if(c(t))throw TypeError("The method doesn't accept regular expressions");return t}},"65f0":function(t,e,r){var c=r("861d"),o=r("e8b5"),n=r("b622"),a=n("species");t.exports=function(t,e){var r;return o(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?c(r)&&(r=r[a],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},"746f":function(t,e,r){var c=r("428f"),o=r("5135"),n=r("e538"),a=r("9bf2").f;t.exports=function(t){var e=c.Symbol||(c.Symbol={});o(e,t)||a(e,t,{value:n.f(t)})}},8418:function(t,e,r){"use strict";var c=r("c04e"),o=r("9bf2"),n=r("5c6c");t.exports=function(t,e,r){var a=c(e);a in t?o.f(t,a,n(0,r)):t[a]=r}},"99af":function(t,e,r){"use strict";var c=r("23e7"),o=r("d039"),n=r("e8b5"),a=r("861d"),i=r("7b0b"),s=r("50c4"),l=r("8418"),d=r("65f0"),u=r("1dde"),b=r("b622"),f=r("2d00"),p=b("isConcatSpreadable"),m=9007199254740991,h="Maximum allowed index exceeded",O=f>=51||!o((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),v=u("concat"),j=function(t){if(!a(t))return!1;var e=t[p];return void 0!==e?!!e:n(t)},g=!O||!v;c({target:"Array",proto:!0,forced:g},{concat:function(t){var e,r,c,o,n,a=i(this),u=d(a,0),b=0;for(e=-1,c=arguments.length;e<c;e++)if(n=-1===e?a:arguments[e],j(n)){if(o=s(n.length),b+o>m)throw TypeError(h);for(r=0;r<o;r++,b++)r in n&&l(u,b,n[r])}else{if(b>=m)throw TypeError(h);l(u,b++,n)}return u.length=b,u}})},a434:function(t,e,r){"use strict";var c=r("23e7"),o=r("23cb"),n=r("a691"),a=r("50c4"),i=r("7b0b"),s=r("65f0"),l=r("8418"),d=r("1dde"),u=d("splice"),b=Math.max,f=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var r,c,d,u,h,O,v=i(this),j=a(v.length),g=o(t,j),y=arguments.length;if(0===y?r=c=0:1===y?(r=0,c=j-g):(r=y-2,c=f(b(n(e),0),j-g)),j+r-c>p)throw TypeError(m);for(d=s(v,c),u=0;u<c;u++)h=g+u,h in v&&l(d,u,v[h]);if(d.length=c,r<c){for(u=g;u<j-c;u++)h=u+c,O=u+r,h in v?v[O]=v[h]:delete v[O];for(u=j;u>j-c+r;u--)delete v[u-1]}else if(r>c)for(u=j-c;u>g;u--)h=u+c-1,O=u+r-1,h in v?v[O]=v[h]:delete v[O];for(u=0;u<r;u++)v[u+g]=arguments[u+2];return v.length=j-c+r,d}})},a4d3:function(t,e,r){"use strict";var c=r("23e7"),o=r("da84"),n=r("d066"),a=r("c430"),i=r("83ab"),s=r("4930"),l=r("fdbf"),d=r("d039"),u=r("5135"),b=r("e8b5"),f=r("861d"),p=r("825a"),m=r("7b0b"),h=r("fc6a"),O=r("c04e"),v=r("5c6c"),j=r("7c73"),g=r("df75"),y=r("241c"),x=r("057f"),w=r("7418"),k=r("06cf"),P=r("9bf2"),U=r("d1e7"),C=r("9112"),A=r("6eeb"),S=r("5692"),V=r("f772"),I=r("d012"),F=r("90e3"),E=r("b622"),M=r("e538"),D=r("746f"),L=r("d44e"),T=r("69f3"),$=r("b727").forEach,_=V("hidden"),N="Symbol",z="prototype",J=E("toPrimitive"),q=T.set,B=T.getterFor(N),G=Object[z],Q=o.Symbol,R=n("JSON","stringify"),W=k.f,H=P.f,K=x.f,X=U.f,Y=S("symbols"),Z=S("op-symbols"),tt=S("string-to-symbol-registry"),et=S("symbol-to-string-registry"),rt=S("wks"),ct=o.QObject,ot=!ct||!ct[z]||!ct[z].findChild,nt=i&&d((function(){return 7!=j(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(t,e,r){var c=W(G,e);c&&delete G[e],H(t,e,r),c&&t!==G&&H(G,e,c)}:H,at=function(t,e){var r=Y[t]=j(Q[z]);return q(r,{type:N,tag:t,description:e}),i||(r.description=e),r},it=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Q},st=function(t,e,r){t===G&&st(Z,e,r),p(t);var c=O(e,!0);return p(r),u(Y,c)?(r.enumerable?(u(t,_)&&t[_][c]&&(t[_][c]=!1),r=j(r,{enumerable:v(0,!1)})):(u(t,_)||H(t,_,v(1,{})),t[_][c]=!0),nt(t,c,r)):H(t,c,r)},lt=function(t,e){p(t);var r=h(e),c=g(r).concat(pt(r));return $(c,(function(e){i&&!ut.call(r,e)||st(t,e,r[e])})),t},dt=function(t,e){return void 0===e?j(t):lt(j(t),e)},ut=function(t){var e=O(t,!0),r=X.call(this,e);return!(this===G&&u(Y,e)&&!u(Z,e))&&(!(r||!u(this,e)||!u(Y,e)||u(this,_)&&this[_][e])||r)},bt=function(t,e){var r=h(t),c=O(e,!0);if(r!==G||!u(Y,c)||u(Z,c)){var o=W(r,c);return!o||!u(Y,c)||u(r,_)&&r[_][c]||(o.enumerable=!0),o}},ft=function(t){var e=K(h(t)),r=[];return $(e,(function(t){u(Y,t)||u(I,t)||r.push(t)})),r},pt=function(t){var e=t===G,r=K(e?Z:h(t)),c=[];return $(r,(function(t){!u(Y,t)||e&&!u(G,t)||c.push(Y[t])})),c};if(s||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=F(t),r=function(t){this===G&&r.call(Z,t),u(this,_)&&u(this[_],e)&&(this[_][e]=!1),nt(this,e,v(1,t))};return i&&ot&&nt(G,e,{configurable:!0,set:r}),at(e,t)},A(Q[z],"toString",(function(){return B(this).tag})),A(Q,"withoutSetter",(function(t){return at(F(t),t)})),U.f=ut,P.f=st,k.f=bt,y.f=x.f=ft,w.f=pt,M.f=function(t){return at(E(t),t)},i&&(H(Q[z],"description",{configurable:!0,get:function(){return B(this).description}}),a||A(G,"propertyIsEnumerable",ut,{unsafe:!0}))),c({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:Q}),$(g(rt),(function(t){D(t)})),c({target:N,stat:!0,forced:!s},{for:function(t){var e=String(t);if(u(tt,e))return tt[e];var r=Q(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!it(t))throw TypeError(t+" is not a symbol");if(u(et,t))return et[t]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),c({target:"Object",stat:!0,forced:!s,sham:!i},{create:dt,defineProperty:st,defineProperties:lt,getOwnPropertyDescriptor:bt}),c({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ft,getOwnPropertySymbols:pt}),c({target:"Object",stat:!0,forced:d((function(){w.f(1)}))},{getOwnPropertySymbols:function(t){return w.f(m(t))}}),R){var mt=!s||d((function(){var t=Q();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))}));c({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,r){var c,o=[t],n=1;while(arguments.length>n)o.push(arguments[n++]);if(c=e,(f(e)||void 0!==t)&&!it(t))return b(e)||(e=function(t,e){if("function"==typeof c&&(e=c.call(this,t,e)),!it(e))return e}),o[1]=e,R.apply(null,o)}})}Q[z][J]||C(Q[z],J,Q[z].valueOf),L(Q,N),I[_]=!0},a640:function(t,e,r){"use strict";var c=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&c((function(){r.call(null,e||function(){throw 1},1)}))}},ab13:function(t,e,r){var c=r("b622"),o=c("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[o]=!1,"/./"[t](e)}catch(c){}}return!1}},b727:function(t,e,r){var c=r("0366"),o=r("44ad"),n=r("7b0b"),a=r("50c4"),i=r("65f0"),s=[].push,l=function(t){var e=1==t,r=2==t,l=3==t,d=4==t,u=6==t,b=7==t,f=5==t||u;return function(p,m,h,O){for(var v,j,g=n(p),y=o(g),x=c(m,h,3),w=a(y.length),k=0,P=O||i,U=e?P(p,w):r||b?P(p,0):void 0;w>k;k++)if((f||k in y)&&(v=y[k],j=x(v,k,g),t))if(e)U[k]=j;else if(j)switch(t){case 3:return!0;case 5:return v;case 6:return k;case 2:s.call(U,v)}else switch(t){case 4:return!1;case 7:s.call(U,v)}return u?-1:l||d?d:U}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},caad:function(t,e,r){"use strict";var c=r("23e7"),o=r("4d64").includes,n=r("44d2");c({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")},da51:function(t,e,r){"use strict";r("a4d3"),r("e01a");var c=r("7a23"),o={class:"row"},n={class:"col-12 mb-8"},a={for:"productTitle",class:"form-label"},i=Object(c["g"])("產品名稱"),s={key:0},l={class:"col-6 mb-8"},d={for:"productOriginPrice",class:"form-label"},u=Object(c["g"])("產品原價"),b={key:0},f={class:"col-6 mb-8"},p={for:"productPrice",class:"form-label"},m=Object(c["g"])("產品售價"),h={key:0},O={class:"row row-cols-2 align-items-end"},v={class:"col mb-8"},j={class:"form-label"},g=Object(c["g"])("產品分類"),y={key:0},x={class:"col mb-8"},w={key:0,class:"d-flex"},k={class:"row row-cols-2 align-items-end"},P={class:"col "},U=Object(c["h"])("label",{class:"form-label"},"產品規格",-1),C=Object(c["h"])("p",null,":",-1),A={class:"col mb-8"},S={class:"row"},V={class:"col-6 mb-8"},I={for:"productUnit",class:"form-label"},F=Object(c["g"])("產品單位"),E={key:0},M={class:"col-6 mb-8"},D=Object(c["h"])("p",{class:"mb-3"},"是否上架產品",-1),L={class:"form-check mt-4"},T={key:0,class:"form-check-label",for:"flexCheckDefault"},$={key:1,class:"form-check-label",for:"flexCheckDefault"},_={class:"col-12 mb-8"},N=Object(c["h"])("label",{for:"productDescription",class:"form-label"},"產品描述",-1),z={class:"col-12 mb-8"},J=Object(c["h"])("label",{for:"productContent",class:"form-label"},"說明內容",-1),q={class:"col-12 mb-8"},B=Object(c["h"])("p",{class:"mb-3"},"主要圖片",-1),G={class:"row row-cols-2 align-items-center"},Q={class:"col"},R=Object(c["h"])("label",{for:"productImage",class:"form-label text-xs"},"圖片位址",-1),W=Object(c["h"])("p",{class:"text-xs mb-2"},"或",-1),H={key:0,class:"btn btn-primary text-sm text-secondary",type:"button",disabled:""},K=Object(c["h"])("span",{class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},null,-1),X=Object(c["g"])(" 上傳中... "),Y={key:1,class:"btn btn-primary text-sm text-secondary"},Z=Object(c["h"])("span",{class:"material-icons text-base "}," file_upload ",-1),tt=Object(c["g"])(" 上傳圖片 "),et={class:"col"},rt={class:"col-12 mb-8"},ct=Object(c["h"])("p",{class:"mb-3"},"輪播圖片",-1),ot={class:"row row-cols-3 align-items-end"},nt=Object(c["h"])("p",{class:"text-xs  mb-2"},"或",-1),at={key:0,class:"d-block w-100 btn btn-primary text-sm  text-secondary mb-4",type:"button",disabled:""},it=Object(c["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),st=Object(c["g"])(" 上傳中... "),lt={key:1,class:"d-block btn btn-primary text-sm text-secondary mb-4"},dt=Object(c["h"])("span",{class:"material-icons text-base align-text-bottom"}," file_upload ",-1),ut=Object(c["g"])(" 上傳圖片 ");function bt(t,e,r,bt,ft,pt){var mt=this,ht=Object(c["A"])("Field"),Ot=Object(c["A"])("error-message"),vt=Object(c["A"])("Form");return Object(c["v"])(),Object(c["d"])(vt,{ref:"addForm",class:"text-dark"},{default:Object(c["L"])((function(t){var bt=t.errors;return[Object(c["h"])("div",o,[Object(c["h"])("div",n,[Object(c["h"])("label",a,[i,r.isAdd?(Object(c["v"])(),Object(c["d"])("span",s,"必填")):Object(c["e"])("",!0)]),Object(c["h"])(ht,{type:"text",class:["form-control",{"is-backend-invalid":bt["產品名稱"]}],id:"productTitle",name:"產品名稱",placeholder:"輸入產品標題",rules:"required",modelValue:ft.tempProduct.title,"onUpdate:modelValue":e[1]||(e[1]=function(t){return ft.tempProduct.title=t}),modelModifiers:{lazy:!0,trim:!0}},null,8,["class","modelValue"]),Object(c["h"])(Ot,{name:"產品名稱",class:"backend-invalid-feedback"})]),Object(c["h"])("div",l,[Object(c["h"])("label",d,[u,r.isAdd?(Object(c["v"])(),Object(c["d"])("span",b,"必填")):Object(c["e"])("",!0)]),Object(c["h"])(ht,{type:"number",class:["form-control",{"is-backend-invalid":bt["產品原價"]}],id:"productOriginPrice",name:"產品原價",min:"0",placeholder:"輸入產品原價",rules:pt.isPositive,modelValue:ft.tempProduct.origin_price,"onUpdate:modelValue":e[2]||(e[2]=function(t){return ft.tempProduct.origin_price=t}),modelModifiers:{number:!0}},null,8,["rules","class","modelValue"]),Object(c["h"])(Ot,{name:"產品原價",class:"backend-invalid-feedback"})]),Object(c["h"])("div",f,[Object(c["h"])("label",p,[m,r.isAdd?(Object(c["v"])(),Object(c["d"])("span",h,"必填")):Object(c["e"])("",!0)]),Object(c["h"])(ht,{type:"number",class:["form-control",{"is-backend-invalid":bt["產品售價"]}],id:"productPrice",min:"0",name:"產品售價",placeholder:"輸入產品售價",rules:pt.isPositive,modelValue:ft.tempProduct.price,"onUpdate:modelValue":e[3]||(e[3]=function(t){return ft.tempProduct.price=t}),modelModifiers:{number:!0}},null,8,["rules","class","modelValue"]),Object(c["h"])(Ot,{name:"產品售價",class:"backend-invalid-feedback"})])]),Object(c["h"])("div",O,[Object(c["h"])("div",v,[Object(c["h"])("label",j,[g,r.isAdd?(Object(c["v"])(),Object(c["d"])("span",y,"必填")):Object(c["e"])("",!0)]),Object(c["h"])(ht,{name:"產品分類",class:["form-select",{"is-backend-invalid":bt["產品分類"]}],placeholder:"產品分類",rules:"required",as:"select",modelValue:ft.tempProduct.category,"onUpdate:modelValue":e[4]||(e[4]=function(t){return ft.tempProduct.category=t})},{default:Object(c["L"])((function(){return[Object(c["h"])("option",{disabled:r.product.category},"請選擇",8,["disabled"]),(Object(c["v"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(ft.productsCategory,(function(t){return Object(c["v"])(),Object(c["d"])("option",{value:t,key:t},Object(c["D"])(t),9,["value"])})),128))]})),_:2},1032,["class","modelValue"]),Object(c["h"])(Ot,{name:"產品分類",class:"backend-invalid-feedback"})]),Object(c["h"])("div",x,[ft.isAddCategory?(Object(c["v"])(),Object(c["d"])("div",w,[Object(c["M"])(Object(c["h"])("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=function(t){return ft.tempCategory=t}),class:"form-control",placeholder:"新增分類"},null,512),[[c["I"],ft.tempCategory,void 0,{trim:!0}]]),Object(c["h"])("div",{class:"btn btn-secondary text-white flex-shrink-0 ms-4",onClick:e[6]||(e[6]=function(){return pt.addCategory&&pt.addCategory.apply(pt,arguments)})}," 新增 ")])):(Object(c["v"])(),Object(c["d"])("div",{key:1,class:"btn btn-secondary text-white",onClick:e[7]||(e[7]=function(t){return mt.isAddCategory=!0})}," 新增產品分類 "))])]),Object(c["h"])("div",k,[Object(c["h"])("div",P,[U,(Object(c["v"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(ft.tempProduct.formats,(function(t,e){return Object(c["v"])(),Object(c["d"])("div",{class:"d-flex align-items-center mb-8",key:e},[Object(c["M"])(Object(c["h"])("input",{type:"text",name:"規格",class:" form-control  me-2",placeholder:"規格","onUpdate:modelValue":function(e){return t.format=e}},null,8,["onUpdate:modelValue"]),[[c["I"],t.format]]),C,Object(c["M"])(Object(c["h"])("input",{type:"text",name:"內容",class:"form-control ms-2",placeholder:"內容","onUpdate:modelValue":function(e){return t.content=e}},null,8,["onUpdate:modelValue"]),[[c["I"],t.content]])])})),128))]),Object(c["h"])("div",A,[Object(c["h"])("div",{class:"btn btn-secondary text-white",onClick:e[8]||(e[8]=function(t){return pt.addFormat()})}," 新增產品規格 ")])]),Object(c["h"])("div",S,[Object(c["h"])("div",V,[Object(c["h"])("label",I,[F,r.isAdd?(Object(c["v"])(),Object(c["d"])("span",E,"必填")):Object(c["e"])("",!0)]),Object(c["h"])(ht,{type:"text",class:["form-control",{"is-backend-invalid":bt["產品單位"]}],id:"productUnit",name:"產品單位",placeholder:"輸入產品單位",rules:"required",modelValue:ft.tempProduct.unit,"onUpdate:modelValue":e[9]||(e[9]=function(t){return ft.tempProduct.unit=t}),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),Object(c["h"])(Ot,{name:"產品單位",class:"backend-invalid-feedback"})]),Object(c["h"])("div",M,[D,Object(c["h"])("div",L,[Object(c["M"])(Object(c["h"])("input",{class:"form-check-input",type:"checkbox",name:"check",id:"flexCheckDefault","onUpdate:modelValue":e[10]||(e[10]=function(t){return ft.tempProduct.is_enabled=t}),"true-value":1,"false-value":0},null,512),[[c["G"],ft.tempProduct.is_enabled]]),r.product.is_enabled?(Object(c["v"])(),Object(c["d"])("label",T,"上架")):(Object(c["v"])(),Object(c["d"])("label",$,"未上架"))])]),Object(c["h"])("div",_,[N,Object(c["M"])(Object(c["h"])("textarea",{type:"text",rows:"5",name:"產品描述",class:"form-control",id:"productDescription",placeholder:"輸入產品描述","onUpdate:modelValue":e[11]||(e[11]=function(t){return ft.tempProduct.description=t})},null,512),[[c["I"],ft.tempProduct.description]])]),Object(c["h"])("div",z,[J,Object(c["M"])(Object(c["h"])("textarea",{type:"text",rows:"5",name:"說明內容",class:"form-control",id:"productContent",placeholder:"輸入說明內容","onUpdate:modelValue":e[12]||(e[12]=function(t){return ft.tempProduct.content=t})},null,512),[[c["I"],ft.tempProduct.content]])]),Object(c["h"])("div",q,[B,Object(c["h"])("div",G,[Object(c["h"])("div",Q,[R,Object(c["M"])(Object(c["h"])("input",{type:"text",name:"主要圖片",class:"form-control mb-2",id:"productImage",placeholder:"輸入圖片位址","onUpdate:modelValue":e[13]||(e[13]=function(t){return ft.tempProduct.imageUrl=t})},null,512),[[c["I"],ft.tempProduct.imageUrl]]),W,ft.isUpload?(Object(c["v"])(),Object(c["d"])("button",H,[K,X])):(Object(c["v"])(),Object(c["d"])("label",Y,[Object(c["h"])("input",{style:{display:"none"},type:"file",onChange:e[14]||(e[14]=function(t){return pt.uploadImage("main",t)})},null,32),Z,tt]))]),Object(c["h"])("div",et,[Object(c["h"])("img",{class:"w-100 h-auto",src:ft.tempProduct.imageUrl,alt:""},null,8,["src"])])])]),Object(c["h"])("div",rt,[ct,Object(c["h"])("div",ot,[(Object(c["v"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(ft.tempProduct.imagesUrl,(function(t,e){return Object(c["v"])(),Object(c["d"])("div",{class:"col mb-8",key:e},[Object(c["h"])("img",{class:"w-100 h-auto",src:ft.tempProduct.imagesUrl[e],alt:""},null,8,["src"]),Object(c["h"])("label",{for:"productImage"+e,class:"form-label text-xs"},"圖片位址",8,["for"]),Object(c["M"])(Object(c["h"])("input",{type:"text",name:"輪播圖片",class:"form-control mb-2",id:"productImage"+e,placeholder:"輸入圖片位址","onUpdate:modelValue":function(t){return ft.tempProduct.imagesUrl[e]=t}},null,8,["id","onUpdate:modelValue"]),[[c["I"],ft.tempProduct.imagesUrl[e]]]),nt,ft.isUploads[e]?(Object(c["v"])(),Object(c["d"])("button",at,[it,st])):(Object(c["v"])(),Object(c["d"])("label",lt,[Object(c["h"])("input",{style:{display:"none"},type:"file",onChange:function(t){return pt.uploadImage(e,t)}},null,40,["onChange"]),dt,ut])),ft.tempProduct.imagesUrl[e]?(Object(c["v"])(),Object(c["d"])("div",{key:2,class:"btn btn-outline-secondary text-xs white-hover",onClick:function(t){return pt.deleteImage(e)}}," 刪除圖片 ",8,["onClick"])):(Object(c["v"])(),Object(c["d"])("div",{key:3,class:"btn btn-outline-secondary white-hover text-xs",onClick:function(t){return pt.deleteImage(e)}}," 取消 ",8,["onClick"]))])})),128))]),Object(c["h"])("div",{class:"btn btn-secondary text-white text-sm",onClick:e[15]||(e[15]=function(){return pt.createImage&&pt.createImage.apply(pt,arguments)})},"新增輪播圖片")])])]})),_:1},512)}r("99af"),r("159b"),r("caad"),r("2532"),r("a434");var ft={props:{product:{type:Object,default:function(){return{formats:[{format:"",content:""}],imagesUrl:[]}}},isAdd:Boolean},data:function(){return{tempProduct:{},productsAll:[],productsCategory:[],isUpload:!1,isUploads:[],isAddCategory:!1,tempCategory:""}},watch:{product:function(){this.tempProduct=this.product}},methods:{getData:function(){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/","api/").concat("chiayu","/products/all")).then((function(e){console.log(e),e.data.success?(t.productsAll=e.data.products,t.productsAll.forEach((function(e){t.productsCategory.includes(e.category)||t.productsCategory.push(e.category)}))):alert(e.data.message)})).catch((function(t){console.log(t)}))},addFormat:function(){var t={format:"",content:""};this.tempProduct.formats.push(t)},addCategory:function(){this.productsCategory.push(this.tempCategory),alert("新增".concat(this.tempCategory,"分類")),this.tempCategory="",this.isAddCategory=!1},uploadImage:function(t,e){var r=this,c=e.target.files[0],o=new FormData;o.append("file-to-upload",c),"main"===t?this.isUpload=!0:this.isUploads[t]=!0,this.$http.post("".concat("https://vue3-course-api.hexschool.io/","api/").concat("chiayu","/admin/upload"),o).then((function(e){console.log(e),e.data.success&&("main"===t?(r.tempProduct.imageUrl=e.data.imageUrl,r.isUpload=!1):(r.tempProduct.imagesUrl[t]=e.data.imageUrl,r.isUploads[t]=!1))}))},createImage:function(){void 0===this.tempProduct.imagesUrl&&(this.tempProduct.imagesUrl=[]),this.isUploads.push(!1),this.tempProduct.imagesUrl.push("")},deleteImage:function(t){this.tempProduct.imagesUrl.splice(t,1),this.isUploads.pop()},isPositive:function(t){return t>0&&t%1===0||"請輸入正整數"},cleanForm:function(){this.$refs.addForm.resetForm(),this.tempProduct.description="",this.tempProduct.content="",this.tempProduct.imageUrl="",this.tempProduct.formats=[{format:"",content:""}],this.tempProduct.imagesUrl=[]}},created:function(){this.isAdd&&(this.tempProduct={formats:[{format:"",content:""}],imagesUrl:[]}),this.getData()}};ft.render=bt;e["a"]=ft},dd08:function(t,e,r){"use strict";r.r(e);var c=r("7a23"),o=Object(c["h"])("div",{class:"d-flex align-items-center justify-content-between mb-5 "},[Object(c["h"])("h2",{class:"text-dark"},"新增產品")],-1),n={class:"bg-white rounded overflow-hidden border border-secondary "},a={class:"container-fluid py-6"},i={class:"d-flex justify-content-end border-top pt-6"};function s(t,e,r,s,l,d){var u=Object(c["A"])("Loading"),b=Object(c["A"])("ProductForm");return Object(c["v"])(),Object(c["d"])(c["a"],null,[Object(c["h"])(u,{isLoading:l.isLoading},null,8,["isLoading"]),o,Object(c["h"])("div",n,[Object(c["h"])("div",a,[Object(c["h"])(b,{isAdd:!0,ref:"productForm"},null,512),Object(c["h"])("div",i,[Object(c["h"])("button",{type:"button",class:"btn btn-outline-secondary white-hover me-4",onClick:e[1]||(e[1]=function(){return d.clean&&d.clean.apply(d,arguments)})}," 重填產品資訊 "),Object(c["h"])("button",{type:"submit",class:"btn btn-secondary text-white px-12",onClick:e[2]||(e[2]=Object(c["N"])((function(){return d.add&&d.add.apply(d,arguments)}),["prevent"]))}," 新增產品 ")])])])],64)}r("99af");var l=r("da51"),d={data:function(){return{isLoading:!1}},components:{ProductForm:l["a"]},inject:["emitter"],methods:{add:function(){var t=this,e=this.$refs.productForm;e.$refs.addForm.validate().then((function(r){if(r.valid){t.isLoading=!0;var c={data:e.tempProduct};t.$http.post("".concat("https://vue3-course-api.hexschool.io/","api/").concat("chiayu","/admin/product"),c).then((function(r){console.log(r),r.data.success?(t.emitter.emit("push-message",{type:"success",message:r.data.message}),e.cleanForm(),t.isLoading=!1):(t.emitter.emit("push-message",{type:"error",message:r.data.message}),t.isLoading=!1)})).catch((function(t){console.log(t)}))}}))},clean:function(){var t=this.$refs.productForm;t.cleanForm()}}};d.render=s;e["default"]=d},e01a:function(t,e,r){"use strict";var c=r("23e7"),o=r("83ab"),n=r("da84"),a=r("5135"),i=r("861d"),s=r("9bf2").f,l=r("e893"),d=n.Symbol;if(o&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},b=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof b?new d(t):void 0===t?d():d(t);return""===t&&(u[e]=!0),e};l(b,d);var f=b.prototype=d.prototype;f.constructor=b;var p=f.toString,m="Symbol(test)"==String(d("test")),h=/^Symbol\((.*)\)[^)]+$/;s(f,"description",{configurable:!0,get:function(){var t=i(this)?this.valueOf():this,e=p.call(t);if(a(u,t))return"";var r=m?e.slice(7,-1):e.replace(h,"$1");return""===r?void 0:r}}),c({global:!0,forced:!0},{Symbol:b})}},e538:function(t,e,r){var c=r("b622");e.f=c},e8b5:function(t,e,r){var c=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==c(t)}}}]);
//# sourceMappingURL=chunk-6926fb34.4b654002.js.map