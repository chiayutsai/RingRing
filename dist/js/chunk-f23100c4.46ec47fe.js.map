{"version":3,"sources":["webpack:///./src/views/backend/Order.vue","webpack:///./src/components/Modal/OrderModal.vue","webpack:///./src/components/Modal/OrderModal.vue?2a51","webpack:///./src/components/Modal/StatusModal.vue","webpack:///./src/components/Modal/StatusModal.vue?d6c8","webpack:///./src/views/backend/Order.vue?9f67","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"],"names":["class","isLoading","orders","length","item","id","Date","create_at","toISOString","split","user","name","tel","total","is_paid","status","openModal","href","type","goToEdit","pagination","getOrder","order","tempOrder","ref","updateOrder","deleteOrder","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","email","address","message","orderDate","paid_date","paidDate","products","key","product","title","qty","unit","final_total","$emit","props","Object","data","watch","this","mixins","modalMixin","render","updateStatus","String","methods","Math","round","getTime","components","Pagination","OrderModal","DeleteModal","StatusModal","inject","page","$http","get","then","res","console","log","success","messages","catch","err","tempProduct","formats","undefined","format","content","JSON","parse","stringify","imagesUrl","$refs","updateModal","orderModal","delModal","statusModal","url","delete","emitter","emit","hideModal","current_page","$router","push","put","mounted","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread"],"mappings":"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","file":"js/chunk-f23100c4.46ec47fe.js","sourcesContent":["<template>\n  <Loading :isLoading=\"isLoading\"></Loading>\n\n  <h2 class=\"text-dark mb-5\">訂單列表</h2>\n\n  <div class=\"bg-white rounded overflow-hidden border border-secondary  \">\n    <p v-if=\"this.orders.length == 0\" class=\"bg-secondary text-center  py-8\">目前沒有訂單</p>\n    <div v-else>\n      <table class=\"table table-borderless mb-0\">\n        <thead class=\"bg-secondary text-white\">\n          <tr>\n            <th class=\"w-10\">購買時間</th>\n            <th class=\"w-20\">訂單編號</th>\n            <th>購買人姓名</th>\n            <th>購買人電話</th>\n            <th>應付金額</th>\n            <th>訂單狀態</th>\n            <th class=\"text-center\">預覽</th>\n            <th>編輯 / 刪除</th>\n          </tr>\n        </thead>\n        <tbody>\n          <template v-for=\"item in orders\" :key=\"item.id\">\n            <tr class=\"border-bottom border-secondary table-hover\">\n              <td class=\"w-10 py-8\">\n                {{ new Date(item.create_at * 1000).toISOString().split(\"T\")[0] }}\n              </td>\n              <td class=\"w-20\">{{ item.id }}</td>\n              <td>{{ item.user.name }}</td>\n              <td>{{ item.user.tel }}</td>\n              <td>{{ item.total }}</td>\n              <td>\n                <div\n                  v-if=\"!item.is_paid && item.status !== 'cancel'\"\n                  class=\"status status-wait\"\n                  @click=\"openModal('status', item)\"\n                >\n                  等待付款中\n                </div>\n                <div\n                  v-if=\"item.is_paid  && item.status !== 'finish'  && item.status !== 'cancel'\"\n                  class=\"status status-handle\"\n                  @click=\"openModal('status', item)\"\n                >\n                  處理中\n                </div>\n                <div\n                  v-if=\"item.status === 'finish'\"\n                  class=\"status status-finish\"\n                  @click=\"openModal('status', item)\"\n                >\n                  完成\n                </div>\n                <div\n                  v-if=\"item.status === 'cancel'\"\n                  class=\"status status-cancel\"\n                  @click=\"openModal('status', item)\"\n                >\n                  取消\n                </div>\n              </td>\n              <td>\n                <a\n                  href=\"\"\n                  class=\" text-secondary text-center shadow-none eye-hover\"\n                  @click.prevent=\"openModal('watch', item)\"\n                >\n                  <span class=\"material-icons text-lg \">\n                    visibility\n                  </span>\n                </a>\n              </td>\n              <td>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-sm btn-secondary text-white\"\n                  @click=\"goToEdit(item)\"\n                >\n                  編輯\n                </button>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-sm btn-outline-secondary white-hover ms-2\"\n                  @click=\"openModal('delete', item)\"\n                >\n                  刪除\n                </button>\n              </td>\n            </tr>\n          </template>\n        </tbody>\n      </table>\n\n      <div class=\"d-flex justify-content-between align-items-center py-4 px-6 bg-secondary \">\n        <div class=\"btn btn-outline-white\" @click=\"openModal('deleteAll')\">刪除全部訂單</div>\n        <Pagination :pagination=\"pagination\" @emit-page=\"getOrder\" />\n      </div>\n    </div>\n  </div>\n  <StatusModal :order=\"tempOrder\" :status=\"status\" ref=\"statusModal\" @emit-status=\"updateOrder\" />\n\n  <OrderModal :order=\"tempOrder\" ref=\"orderModal\" @edit=\"goToEdit\" />\n\n  <DeleteModal :item=\"tempOrder\" :type=\"'order'\" ref=\"delModal\" @delete=\"deleteOrder\" />\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination.vue';\nimport DeleteModal from '@/components/Modal/DeleteModal.vue';\nimport OrderModal from '@/components/Modal/OrderModal.vue';\nimport StatusModal from '@/components/Modal/StatusModal.vue';\n\nexport default {\n  data() {\n    return {\n      orders: [],\n      pagination: {},\n      tempOrder: {},\n      status: '',\n      isLoading: false,\n    };\n  },\n  components: {\n    Pagination,\n    OrderModal,\n    DeleteModal,\n    StatusModal,\n  },\n  inject: ['emitter'],\n  methods: {\n    getOrder(page = 1) {\n      this.isLoading = true;\n      this.$http\n        .get(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`)\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            this.orders = res.data.orders;\n            this.pagination = res.data.pagination;\n            this.isLoading = false;\n          } else {\n            console.log(res.data.messages);\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n\n    openModal(type, item) {\n      if (type === 'edit') {\n        this.tempProduct = {\n          ...item,\n          formats:\n            item.formats === undefined\n              ? [\n                {\n                  format: '',\n                  content: '',\n                },\n              ]\n              : JSON.parse(JSON.stringify(item.formats)),\n          imagesUrl: item.imagesUrl === undefined ? [] : [...item.imagesUrl],\n        };\n        this.$refs.updateModal.openModal();\n      } else if (type === 'watch') {\n        this.tempOrder = { ...item };\n        this.$refs.orderModal.openModal();\n      } else if (type === 'delete') {\n        this.tempOrder = { ...item };\n        this.$refs.delModal.openModal();\n      } else if (type === 'deleteAll') {\n        this.tempOrder = { id: null, user: {} };\n        this.$refs.delModal.openModal();\n      } else if (type === 'status') {\n        this.tempOrder = { ...item };\n        if (item.status) {\n          this.status = item.status;\n        } else {\n          if (item.is_paid) {\n            this.status = 'handle';\n          }\n          this.status = 'wait';\n        }\n        this.$refs.statusModal.openModal();\n      }\n    },\n    deleteOrder() {\n      this.isLoading = true;\n      let url = '';\n      if (this.tempOrder.id) {\n        url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`;\n      } else {\n        url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders/all`;\n      }\n      this.$http\n        .delete(url)\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            this.emitter.emit('push-message', {\n              type: 'success',\n              message: res.data.message,\n            });\n            this.$refs.delModal.hideModal();\n            this.getOrder(this.pagination.current_page);\n            this.isLoading = false;\n          } else {\n            this.emitter.emit('push-message', {\n              type: 'error',\n              message: res.data.message,\n            });\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n\n    goToEdit(item) {\n      this.$refs.orderModal.hideModal();\n      this.$router.push(`/dashboard/editOrder/${item.id}`);\n    },\n    updateOrder(item) {\n      this.isLoading = true;\n\n      const data = {\n        data: item,\n      };\n      this.$http\n        .put(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`,\n          data,\n        )\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            this.emitter.emit('push-message', {\n              type: 'success',\n              message: res.data.message,\n            });\n            this.$refs.statusModal.hideModal();\n            this.getOrder(this.pagination.current_page);\n            this.isLoading = false;\n          } else {\n            this.emitter.emit('push-message', {\n              type: 'error',\n              message: res.data.message,\n            });\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n  mounted() {\n    this.getOrder();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-secondary text-white py-4\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">訂單 {{ order.id }}</h5>\n          <div class=\"d-flex align-items-center\">\n            <div\n              v-if=\"!order.is_paid && order.status !== 'cancel'\"\n              class=\"status status-wait pointer-none me-4\"\n            >\n              等待付款中\n            </div>\n\n            <div\n              v-if=\"order.is_paid && order.status !== 'finish' && order.status !== 'cancel'\"\n              class=\"status status-handle pointer-none me-4\"\n            >\n              處理中\n            </div>\n            <div v-if=\"order.status === 'finish'\" class=\"status status-finish pointer-none me-4\">\n              完成\n            </div>\n            <div v-if=\"order.status === 'cancel'\" class=\"status status-cancel pointer-none me-4\">\n              取消\n            </div>\n            <button\n              type=\"button\"\n              class=\"btn-close btn-close-white\"\n              data-bs-dismiss=\"modal\"\n              aria-label=\"Close\"\n            ></button>\n          </div>\n        </div>\n        <div class=\"modal-body text-dark py-8\">\n          <div class=\"container-fluid\">\n            <div class=\"row g-5\">\n              <div class=\"col-6\">\n                <h4 class=\"border-bottom pb-3 mb-3\">顧客資料</h4>\n                <div class=\"row\">\n                  <p class=\"col-4 fw-bold mb-4\">顧客姓名</p>\n                  <p class=\"col-8 mb-4\">{{ user.name }}</p>\n                  <p class=\"col-4 fw-bold mb-4\">顧客電話</p>\n                  <p class=\"col-8 mb-4\">{{ user.tel }}</p>\n                  <p class=\"col-4 fw-bold mb-4\">顧客E-mail</p>\n                  <p class=\"col-8 mb-4\">{{ user.email }}</p>\n                  <p class=\"col-4 fw-bold mb-4\">運送地址</p>\n                  <p class=\"col-8 mb-4\">{{ user.address }}</p>\n                  <p v-if=\"order.message\" class=\"col-4 fw-bold mb-4\">備註</p>\n                  <p v-if=\"order.message\" class=\"col-8 mb-4\">{{ order.message }}</p>\n                </div>\n              </div>\n              <div class=\"col-6\">\n                <h4 class=\"border-bottom pb-3 mb-3\">訂單資料</h4>\n                <div class=\"row\">\n                  <p class=\"col-4 fw-bold mb-4\">下單時間</p>\n                  <p class=\"col-8 mb-4\">\n                    {{ orderDate }}\n                  </p>\n                  <p class=\"col-4 fw-bold mb-4\">總金額</p>\n                  <p class=\"col-8 mb-4\">{{ order.total }}</p>\n                  <p class=\"col-4 fw-bold mb-4\">訂單編號</p>\n                  <p class=\"col-8 mb-4\">{{ order.id }}</p>\n                  <p class=\"col-4 fw-bold mb-4\">訂單狀態</p>\n\n                  <div v-if=\"!order.is_paid && order.status !== 'cancel'\" class=\"col-8 mb-4\">\n                    等待付款中\n                  </div>\n                  <div\n                    v-if=\"order.is_paid && order.status !== 'finish' && order.status !== 'cancel'\"\n                    class=\"col-8 mb-4\"\n                  >\n                    處理中\n                  </div>\n                  <div v-if=\"order.status === 'finish'\" class=\"col-8 mb-4\">\n                    完成\n                  </div>\n                  <div v-if=\"order.status === 'cancel'\" class=\"col-8 mb-4\">\n                    取消\n                  </div>\n                  <p v-if=\"order.paid_date\" class=\"col-4 fw-bold mb-4\">付款時間</p>\n                  <p v-if=\"order.paid_date\" class=\"col-8 mb-4\">\n                    {{ paidDate }}\n                  </p>\n\n                </div>\n              </div>\n              <div class=\"col-12\">\n                <h4 class=\" pb-3 mb-3\">購買商品</h4>\n                <div class=\"row\">\n                  <p class=\"col-4 border-bottom fw-bold pb-3 mb-3\">商品名稱</p>\n                  <p class=\"col-4 border-bottom fw-bold pb-3 mb-3\">數量</p>\n                  <p class=\"col-4 border-bottom fw-bold pb-3 mb-3\">小計</p>\n                </div>\n                <div class=\"row\" v-for=\"item in order.products\" :key=\"item.id\">\n                  <p class=\"col-4 \">{{ item.product.title }}</p>\n                  <p class=\"col-4\">{{ item.qty }} / {{ item.product.unit }}</p>\n                  <p class=\"col-4\">{{ item.final_total }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary white-hover\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button type=\"button\" class=\"btn btn-secondary text-white\" @click=\"$emit('edit', order)\">\n            編輯訂單\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    order: {\n      type: Object,\n    },\n  },\n  data() {\n    return {\n      tempOrder: {},\n      user: {},\n      orderDate: null,\n      paidDate: null,\n    };\n  },\n  watch: {\n    order() {\n      this.tempOrder = this.order;\n      this.user = this.order.user;\n      if (this.order.paid_date) {\n        [this.orderDate] = new Date(this.order.create_at * 1000).toISOString().split('T');\n      }\n      if (this.order.paid_date) {\n        [this.paidDate] = new Date(this.order.paid_date * 1000).toISOString().split('T');\n      }\n    },\n  },\n  mixins: [modalMixin],\n\n};\n</script>\n","import { render } from \"./OrderModal.vue?vue&type=template&id=db6f4046\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-secondary text-white py-4\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">選擇訂單狀態</h5>\n\n          <button\n            type=\"button\"\n            class=\"btn-close btn-close-white\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div\n            v-if=\"status !== 'wait'\"\n            class=\"status status-wait me-4\"\n            @click=\"updateStatus('wait')\"\n          >\n            等待付款中\n          </div>\n          <div\n            v-if=\"status !== 'handle'\"\n            class=\"status status-handle me-4\"\n            @click=\"updateStatus('handle')\"\n          >\n            處理中\n          </div>\n          <div\n            v-if=\"status !== 'finish'\"\n            class=\"status status-finish me-4\"\n            @click=\"updateStatus('finish')\"\n          >\n            完成\n          </div>\n          <div\n            v-if=\"status !== 'cancel'\"\n            class=\"status status-cancel me-4\"\n            @click=\"updateStatus('cancel')\"\n          >\n            取消\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    order: {\n      type: Object,\n    },\n    status: {\n      type: String,\n    },\n  },\n  data() {\n    return {\n      tempOrder: {},\n    };\n  },\n  watch: {\n    order() {\n      this.tempOrder = { ...this.order, status: this.status };\n    },\n  },\n  mixins: [modalMixin],\n  methods: {\n    updateStatus(status) {\n      this.tempOrder.status = status;\n\n      if (status === 'handle' || status === 'finish') {\n        this.tempOrder.is_paid = true;\n        if (!this.tempOrder.paid_date) {\n          this.tempOrder.paid_date = Math.round(new Date().getTime() / 1000);\n        }\n      }\n      if (status === 'wait') {\n        this.tempOrder.is_paid = false;\n        this.tempOrder.paid_date = null;\n      }\n      this.$emit('emit-status', this.tempOrder);\n    },\n  },\n\n};\n</script>\n","import { render } from \"./StatusModal.vue?vue&type=template&id=10dd3ef5\"\nimport script from \"./StatusModal.vue?vue&type=script&lang=js\"\nexport * from \"./StatusModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Order.vue?vue&type=template&id=4f527a2d\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}"],"sourceRoot":""}