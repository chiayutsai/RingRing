(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-525767ee"],{"057f":function(e,t,r){var o=r("fc6a"),a=r("241c").f,n={}.toString,c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(e){try{return a(e)}catch(t){return c.slice()}};e.exports.f=function(e){return c&&"[object Window]"==n.call(e)?i(e):a(o(e))}},"06c5":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("fb6a"),r("d3b7"),r("b0c0"),r("a630"),r("3ca3");var o=r("6b75");function a(e,t){if(e){if("string"===typeof e)return Object(o["a"])(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(o["a"])(e,t):void 0}}},3835:function(e,t,r){"use strict";function o(e){if(Array.isArray(e))return e}r.d(t,"a",(function(){return i}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");function a(e,t){var r=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var o,a,n=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(o=r.next()).done);c=!0)if(n.push(o.value),t&&n.length===t)break}catch(s){i=!0,a=s}finally{try{c||null==r["return"]||r["return"]()}finally{if(i)throw a}}return n}}var n=r("06c5");function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){return o(e)||a(e,t)||Object(n["a"])(e,t)||c()}},"4de4":function(e,t,r){"use strict";var o=r("23e7"),a=r("b727").filter,n=r("1dde"),c=n("filter");o({target:"Array",proto:!0,forced:!c},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,r){"use strict";var o=r("0366"),a=r("7b0b"),n=r("9bdd"),c=r("e95a"),i=r("50c4"),s=r("8418"),d=r("35a1");e.exports=function(e){var t,r,l,u,b,f,p=a(e),m="function"==typeof this?this:Array,O=arguments.length,v=O>1?arguments[1]:void 0,j=void 0!==v,h=d(p),y=0;if(j&&(v=o(v,O>2?arguments[2]:void 0,2)),void 0==h||m==Array&&c(h))for(t=i(p.length),r=new m(t);t>y;y++)f=j?v(p[y],y):p[y],s(r,y,f);else for(u=h.call(p),b=u.next,r=new m;!(l=b.call(u)).done;y++)f=j?n(u,v,[l.value,y],!0):l.value,s(r,y,f);return r.length=y,r}},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("b64b"),r("a4d3"),r("4de4"),r("e439"),r("159b"),r("dbb4");function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"6b75":function(e,t,r){"use strict";function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}r.d(t,"a",(function(){return o}))},"746f":function(e,t,r){var o=r("428f"),a=r("5135"),n=r("e538"),c=r("9bf2").f;e.exports=function(e){var t=o.Symbol||(o.Symbol={});a(t,e)||c(t,e,{value:n.f(e)})}},"9bdd":function(e,t,r){var o=r("825a"),a=r("2a62");e.exports=function(e,t,r,n){try{return n?t(o(r)[0],r[1]):t(r)}catch(c){throw a(e),c}}},a4d3:function(e,t,r){"use strict";var o=r("23e7"),a=r("da84"),n=r("d066"),c=r("c430"),i=r("83ab"),s=r("4930"),d=r("fdbf"),l=r("d039"),u=r("5135"),b=r("e8b5"),f=r("861d"),p=r("825a"),m=r("7b0b"),O=r("fc6a"),v=r("c04e"),j=r("5c6c"),h=r("7c73"),y=r("df75"),g=r("241c"),V=r("057f"),N=r("7418"),w=r("06cf"),S=r("9bf2"),k=r("d1e7"),x=r("9112"),P=r("6eeb"),D=r("5692"),A=r("f772"),C=r("d012"),L=r("90e3"),T=r("b622"),$=r("e538"),_=r("746f"),B=r("d44e"),F=r("69f3"),E=r("b727").forEach,M=A("hidden"),U="Symbol",I="prototype",q=T("toPrimitive"),J=F.set,z=F.getterFor(U),Q=Object[I],W=a.Symbol,G=n("JSON","stringify"),H=w.f,K=S.f,R=V.f,X=k.f,Y=D("symbols"),Z=D("op-symbols"),ee=D("string-to-symbol-registry"),te=D("symbol-to-string-registry"),re=D("wks"),oe=a.QObject,ae=!oe||!oe[I]||!oe[I].findChild,ne=i&&l((function(){return 7!=h(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,r){var o=H(Q,t);o&&delete Q[t],K(e,t,r),o&&e!==Q&&K(Q,t,o)}:K,ce=function(e,t){var r=Y[e]=h(W[I]);return J(r,{type:U,tag:e,description:t}),i||(r.description=t),r},ie=d?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},se=function(e,t,r){e===Q&&se(Z,t,r),p(e);var o=v(t,!0);return p(r),u(Y,o)?(r.enumerable?(u(e,M)&&e[M][o]&&(e[M][o]=!1),r=h(r,{enumerable:j(0,!1)})):(u(e,M)||K(e,M,j(1,{})),e[M][o]=!0),ne(e,o,r)):K(e,o,r)},de=function(e,t){p(e);var r=O(t),o=y(r).concat(pe(r));return E(o,(function(t){i&&!ue.call(r,t)||se(e,t,r[t])})),e},le=function(e,t){return void 0===t?h(e):de(h(e),t)},ue=function(e){var t=v(e,!0),r=X.call(this,t);return!(this===Q&&u(Y,t)&&!u(Z,t))&&(!(r||!u(this,t)||!u(Y,t)||u(this,M)&&this[M][t])||r)},be=function(e,t){var r=O(e),o=v(t,!0);if(r!==Q||!u(Y,o)||u(Z,o)){var a=H(r,o);return!a||!u(Y,o)||u(r,M)&&r[M][o]||(a.enumerable=!0),a}},fe=function(e){var t=R(O(e)),r=[];return E(t,(function(e){u(Y,e)||u(C,e)||r.push(e)})),r},pe=function(e){var t=e===Q,r=R(t?Z:O(e)),o=[];return E(r,(function(e){!u(Y,e)||t&&!u(Q,e)||o.push(Y[e])})),o};if(s||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=L(e),r=function(e){this===Q&&r.call(Z,e),u(this,M)&&u(this[M],t)&&(this[M][t]=!1),ne(this,t,j(1,e))};return i&&ae&&ne(Q,t,{configurable:!0,set:r}),ce(t,e)},P(W[I],"toString",(function(){return z(this).tag})),P(W,"withoutSetter",(function(e){return ce(L(e),e)})),k.f=ue,S.f=se,w.f=be,g.f=V.f=fe,N.f=pe,$.f=function(e){return ce(T(e),e)},i&&(K(W[I],"description",{configurable:!0,get:function(){return z(this).description}}),c||P(Q,"propertyIsEnumerable",ue,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:W}),E(y(re),(function(e){_(e)})),o({target:U,stat:!0,forced:!s},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var r=W(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),o({target:"Object",stat:!0,forced:!s,sham:!i},{create:le,defineProperty:se,defineProperties:de,getOwnPropertyDescriptor:be}),o({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:fe,getOwnPropertySymbols:pe}),o({target:"Object",stat:!0,forced:l((function(){N.f(1)}))},{getOwnPropertySymbols:function(e){return N.f(m(e))}}),G){var me=!s||l((function(){var e=W();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}));o({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,r){var o,a=[e],n=1;while(arguments.length>n)a.push(arguments[n++]);if(o=t,(f(t)||void 0!==e)&&!ie(e))return b(t)||(t=function(e,t){if("function"==typeof o&&(t=o.call(this,e,t)),!ie(t))return t}),a[1]=t,G.apply(null,a)}})}W[I][q]||x(W[I],q,W[I].valueOf),B(W,U),C[M]=!0},a630:function(e,t,r){var o=r("23e7"),a=r("4df4"),n=r("1c7e"),c=!n((function(e){Array.from(e)}));o({target:"Array",stat:!0,forced:c},{from:a})},b64b:function(e,t,r){var o=r("23e7"),a=r("7b0b"),n=r("df75"),c=r("d039"),i=c((function(){n(1)}));o({target:"Object",stat:!0,forced:i},{keys:function(e){return n(a(e))}})},c10b:function(e,t,r){"use strict";r.r(t);r("b0c0");var o=r("7a23"),a={class:"d-flex align-items-center justify-content-between mb-5 "},n=Object(o["createVNode"])("h2",{class:"text-dark"},"編輯訂單",-1),c=Object(o["createTextVNode"])("返回訂單列表"),i={class:"bg-white rounded overflow-hidden border border-secondary "},s={class:"container-fluid  py-6"},d={class:"row mb-6"},l={class:"col-6"},u={class:" mb-6"},b=Object(o["createVNode"])("h4",{class:"mb-4 pb-4 border-bottom"},"顧客資料",-1),f=Object(o["createVNode"])("label",{for:"name",class:"form-label"},[Object(o["createTextVNode"])("顧客姓名"),Object(o["createVNode"])("span",null,"必填")],-1),p={class:"mb-6"},m=Object(o["createVNode"])("label",{for:"tel",class:"form-label"},[Object(o["createTextVNode"])("顧客電話"),Object(o["createVNode"])("span",null,"必填")],-1),O={class:"mb-6"},v=Object(o["createVNode"])("label",{for:"email",class:"form-label"},[Object(o["createTextVNode"])("顧客電子信箱"),Object(o["createVNode"])("span",null,"必填")],-1),j={class:"mb-6"},h=Object(o["createVNode"])("label",{for:"address",class:"form-label"},[Object(o["createTextVNode"])("顧客地址"),Object(o["createVNode"])("span",null,"必填")],-1),y={key:0,class:"mb-6"},g=Object(o["createVNode"])("label",{for:"note",class:"form-label"},"備註",-1),V={class:"col-6"},N={class:" mb-6"},w=Object(o["createVNode"])("h4",{class:"mb-4 pb-4 border-bottom"},"訂單資料",-1),S=Object(o["createVNode"])("p",{class:"form-label"},"訂單編號",-1),k={class:"form-control border-white"},x={class:" mb-6"},P=Object(o["createVNode"])("p",{class:"form-label"},"下單時間",-1),D={class:"form-control border-white"},A={class:" mb-6"},C=Object(o["createVNode"])("p",{class:"form-label"},"總金額",-1),L={class:"form-control border-white"},T={class:"mb-6"},$=Object(o["createVNode"])("label",{class:"form-label"},"訂單狀態",-1),_=Object(o["createVNode"])("option",{value:"wait"},"等待付款中",-1),B=Object(o["createVNode"])("option",{value:"handle"},"處理中",-1),F=Object(o["createVNode"])("option",{value:"finish"},"完成",-1),E=Object(o["createVNode"])("option",{value:"cancel"},"取消",-1),M=Object(o["createVNode"])("h4",{class:" pb-3 mb-3"},"購買商品",-1),U=Object(o["createVNode"])("div",{class:"row mx-2"},[Object(o["createVNode"])("p",{class:"col-4 border-bottom fw-bold pb-3 mb-3"},"商品名稱"),Object(o["createVNode"])("p",{class:"col-4 border-bottom fw-bold pb-3 mb-3"},"數量"),Object(o["createVNode"])("p",{class:"col-4 border-bottom fw-bold pb-3 mb-3"},"小計")],-1),I={class:"col-4 "},q={class:"col-4"},J={class:"col-4"},z={class:"d-flex justify-content-end border-top pt-6"};function Q(e,t,r,Q,W,G){var H=Object(o["resolveComponent"])("Loading"),K=Object(o["resolveComponent"])("router-link"),R=Object(o["resolveComponent"])("Field"),X=Object(o["resolveComponent"])("error-message"),Y=Object(o["resolveComponent"])("Form");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(H,{isLoading:W.isLoading},null,8,["isLoading"]),Object(o["createVNode"])("div",a,[n,Object(o["createVNode"])(K,{to:"/dashboard/order",class:"btn btn-secondary text-white shadow-none "},{default:Object(o["withCtx"])((function(){return[c]})),_:1})]),Object(o["createVNode"])("div",i,[Object(o["createVNode"])("div",s,[Object(o["createVNode"])(Y,{ref:"editForm",class:"text-dark"},{default:Object(o["withCtx"])((function(r){var a=r.errors;return[Object(o["createVNode"])("div",d,[Object(o["createVNode"])("div",l,[Object(o["createVNode"])("div",u,[b,f,Object(o["createVNode"])(R,{type:"text",class:["form-control",{"is-backend-invalid":a["顧客姓名"]}],id:"name",name:"顧客姓名",rules:"required",modelValue:W.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return W.user.name=e}),modelModifiers:{lazy:!0,trim:!0}},null,8,["class","modelValue"]),Object(o["createVNode"])(X,{name:"顧客姓名",class:"backend-invalid-feedback"})]),Object(o["createVNode"])("div",p,[m,Object(o["createVNode"])(R,{type:"tel",class:["form-control",{"is-backend-invalid":a["顧客電話"]}],id:"tel",name:"顧客電話",rules:G.isPhone,modelValue:W.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return W.user.tel=e})},null,8,["rules","class","modelValue"]),Object(o["createVNode"])(X,{name:"顧客電話",class:"backend-invalid-feedback"})]),Object(o["createVNode"])("div",O,[v,Object(o["createVNode"])(R,{type:"email",class:["form-control",{"is-backend-invalid":a["顧客電子信箱"]}],id:"email",name:"顧客電子信箱",rules:"email|required",modelValue:W.user.email,"onUpdate:modelValue":t[3]||(t[3]=function(e){return W.user.email=e})},null,8,["class","modelValue"]),Object(o["createVNode"])(X,{name:"顧客電子信箱",class:"backend-invalid-feedback"})]),Object(o["createVNode"])("div",j,[h,Object(o["createVNode"])(R,{type:"text",class:["form-control",{"is-backend-invalid":a["顧客地址"]}],id:"address",name:"顧客地址",rules:"required",modelValue:W.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return W.user.address=e})},null,8,["class","modelValue"]),Object(o["createVNode"])(X,{name:"顧客地址",class:"backend-invalid-feedback"})]),W.order.message?(Object(o["openBlock"])(),Object(o["createBlock"])("div",y,[g,Object(o["withDirectives"])(Object(o["createVNode"])("textarea",{type:"text",rows:"5",name:"備註",class:"form-control",id:"note","onUpdate:modelValue":t[5]||(t[5]=function(e){return W.order.message=e})},null,512),[[o["vModelText"],W.order.message]])])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("div",V,[Object(o["createVNode"])("div",N,[w,S,Object(o["createVNode"])("p",k,Object(o["toDisplayString"])(W.order.id),1)]),Object(o["createVNode"])("div",x,[P,Object(o["createVNode"])("p",D,Object(o["toDisplayString"])(W.orderDate),1)]),Object(o["createVNode"])("div",A,[C,Object(o["createVNode"])("p",L,Object(o["toDisplayString"])(e.toCurrency(W.order.total)),1)]),Object(o["createVNode"])("div",T,[$,Object(o["withDirectives"])(Object(o["createVNode"])("select",{class:"form-select","onUpdate:modelValue":t[6]||(t[6]=function(e){return W.status=e}),onChange:t[7]||(t[7]=function(e){return G.updateStatus(W.status)})},[_,B,F,E],544),[[o["vModelSelect"],W.status]])])])]),M,U,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(W.order.products,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"row mx-2 mb-6",key:t.id},[Object(o["createVNode"])("p",I,Object(o["toDisplayString"])(t.product.title),1),Object(o["createVNode"])("p",q,Object(o["toDisplayString"])(t.qty)+" / "+Object(o["toDisplayString"])(t.product.unit),1),Object(o["createVNode"])("p",J,Object(o["toDisplayString"])(e.toCurrency(t.final_total)),1)])})),128))]})),_:1},512),Object(o["createVNode"])("div",z,[Object(o["createVNode"])("button",{type:"submit",class:"btn btn-secondary text-white px-12",onClick:t[8]||(t[8]=Object(o["withModifiers"])((function(){return G.editOrder&&G.editOrder.apply(G,arguments)}),["prevent"]))}," 確定編輯 ")])])])],64)}var W=r("5530"),G=r("3835"),H=(r("99af"),r("ac1f"),r("1276"),{components:{},data:function(){return{order:{},user:{},orderDate:"",status:"",isLoading:!1}},inject:["emitter"],methods:{getOrder:function(e){var t=this,r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("chiayu","/order/").concat(e);this.isLoading=!0,this.$http.get(r).then((function(e){if(console.log(e),e.data.success)if(e.data.order){t.isLoading=!1,t.order=e.data.order,t.user=e.data.order.user;var r=new Date(1e3*e.data.order.create_at).toISOString().split("T"),o=Object(G["a"])(r,1);t.orderDate=o[0],e.data.order.status?t.status=e.data.order.status:(e.data.order.is_paid&&(t.status="handle"),t.status="wait")}else t.emitter.emit("push-message",{type:"error",message:"找不到這筆訂單"}),t.$router.push("/dashboard/order");else console.log(e.data.message)})).catch((function(e){console.log(e)}))},updateStatus:function(e){"handle"!==e&&"finish"!==e||(this.order.is_paid=!0,this.order.paid_date||(this.order.paid_date=Math.round((new Date).getTime()/1e3))),"wait"===e&&(this.order.is_paid=!1,this.order.paid_date=null)},editOrder:function(){var e=this;this.$refs.editForm.validate().then((function(t){if(t.valid){e.isLoading=!0;var r={data:Object(W["a"])(Object(W["a"])({},e.order),{},{user:e.user,status:e.status})};e.$http.put("".concat("https://vue3-course-api.hexschool.io/","api/").concat("chiayu","/admin/order/").concat(e.order.id),r).then((function(t){console.log(t),t.data.success?(e.emitter.emit("push-message",{type:"success",message:t.data.message}),e.isLoading=!1,e.$router.push("/dashboard/order")):(e.emitter.emit("push-message",{type:"error",message:t.data.message}),e.isLoading=!1)})).catch((function(e){console.log(e)}))}}))},isPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"請輸入正確的電話號碼"}},created:function(){var e=this.$route.params.id;this.getOrder(e)}});H.render=Q;t["default"]=H},d28b:function(e,t,r){var o=r("746f");o("iterator")},dbb4:function(e,t,r){var o=r("23e7"),a=r("83ab"),n=r("56ef"),c=r("fc6a"),i=r("06cf"),s=r("8418");o({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){var t,r,o=c(e),a=i.f,d=n(o),l={},u=0;while(d.length>u)r=a(o,t=d[u++]),void 0!==r&&s(l,t,r);return l}})},e01a:function(e,t,r){"use strict";var o=r("23e7"),a=r("83ab"),n=r("da84"),c=r("5135"),i=r("861d"),s=r("9bf2").f,d=r("e893"),l=n.Symbol;if(a&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var u={},b=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof b?new l(e):void 0===e?l():l(e);return""===e&&(u[t]=!0),t};d(b,l);var f=b.prototype=l.prototype;f.constructor=b;var p=f.toString,m="Symbol(test)"==String(l("test")),O=/^Symbol\((.*)\)[^)]+$/;s(f,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=p.call(e);if(c(u,e))return"";var r=m?t.slice(7,-1):t.replace(O,"$1");return""===r?void 0:r}}),o({global:!0,forced:!0},{Symbol:b})}},e439:function(e,t,r){var o=r("23e7"),a=r("d039"),n=r("fc6a"),c=r("06cf").f,i=r("83ab"),s=a((function(){c(1)})),d=!i||s;o({target:"Object",stat:!0,forced:d,sham:!i},{getOwnPropertyDescriptor:function(e,t){return c(n(e),t)}})},e538:function(e,t,r){var o=r("b622");t.f=o},fb6a:function(e,t,r){"use strict";var o=r("23e7"),a=r("861d"),n=r("e8b5"),c=r("23cb"),i=r("50c4"),s=r("fc6a"),d=r("8418"),l=r("b622"),u=r("1dde"),b=u("slice"),f=l("species"),p=[].slice,m=Math.max;o({target:"Array",proto:!0,forced:!b},{slice:function(e,t){var r,o,l,u=s(this),b=i(u.length),O=c(e,b),v=c(void 0===t?b:t,b);if(n(u)&&(r=u.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?a(r)&&(r=r[f],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return p.call(u,O,v);for(o=new(void 0===r?Array:r)(m(v-O,0)),l=0;O<v;O++,l++)O in u&&d(o,l,u[O]);return o.length=l,o}})}}]);
//# sourceMappingURL=chunk-525767ee.cc6f32a2.js.map