{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/views/backend/Admin.vue","webpack:///./src/components/Collapse.vue","webpack:///./src/components/Collapse.vue?451f","webpack:///./src/components/Modal/ProductModal.vue","webpack:///./src/components/Modal/ProductModal.vue?ce24","webpack:///./src/views/backend/Admin.vue?735e","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/components/ProductForm.vue","webpack:///./src/components/ProductForm.vue?3351"],"names":["$","$values","values","target","stat","O","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","class","id","colspan","isLoading","to","products","item","key","is_enabled","src","imageUrl","title","category","toCurrency","origin_price","price","type","true-value","false-value","changeStatus","for","openModal","openCollapse","isOpen","open","ref","product","num","totalAmount","pagination","getData","tempProduct","updateProduct","deleteProduct","unit","formats","format","content","description","imagesUrl","img","i","props","Object","Number","data","collapse","methods","showCollapse","collapseElementList","slice","call","document","querySelectorAll","this","map","collapseEl","toggle","hide","render","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","isAdd","update","components","ProductForm","mixins","modalMixin","productForm","$refs","addForm","validate","then","success","console","log","valid","$emit","productsCategory","inject","Pagination","ProductCollapse","DeleteModal","ProductModal","page","$http","get","res","messages","catch","err","productsAll","length","forEach","includes","push","undefined","JSON","parse","stringify","updateModal","delModal","put","emitter","emit","message","hideModal","current_page","delete","mounted","module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","trim","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","TO_ENTRIES","it","keys","result","entries","isObject","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","prototype","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","getOwnPropertyDescriptor","defineProperty","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","index","code","charCodeAt","NaN","parseInt","NumberWrapper","value","arguments","valueOf","split","j","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","proto","forced","callbackfn","disabled","role","errors","name","placeholder","rules","min","isPositive","as","isAddCategory","tempCategory","addCategory","addFormat","rows","isUpload","style","uploadImage","$event","alt","isUploads","deleteImage","createImage","default","Boolean","watch","alert","formatObj","e","file","files","formData","FormData","append","post","splice","pop","cleanForm","resetForm","created"],"mappings":"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","file":"js/chunk-58868271.550b9e15.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","<template>\n  <Loading :isLoading=\"isLoading\"></Loading>\n\n  <div class=\"d-flex align-items-center justify-content-between mb-5 \">\n    <h2 class=\"text-dark\">產品列表</h2>\n    <router-link :to=\"`/dashboard/newProduct`\" class=\"btn btn-secondary text-white shadow-none \"\n      >新增產品</router-link\n    >\n  </div>\n\n  <div class=\"bg-white rounded overflow-hidden border border-secondary  \">\n    <table class=\"table table-borderless mb-0\">\n      <thead class=\"bg-secondary text-white\">\n        <tr>\n          <th class=\"w-15\">產品圖片</th>\n          <th class=\"\">產品名稱</th>\n          <th>分類</th>\n          <th>原價</th>\n          <th>售價</th>\n          <th>是否上架</th>\n          <th>編輯 / 刪除</th>\n        </tr>\n      </thead>\n      <tbody id=\"productList\">\n        <template v-for=\"(item, key) in products\" :key=\"item.id\">\n          <tr :class=\"{ 'table-primary': item.is_enabled }\">\n            <td class=\"w-15\">\n              <img class=\"w-100 small-size\" :src=\"item.imageUrl\" />\n            </td>\n            <td>{{ item.title }}</td>\n            <td>{{ item.category }}</td>\n            <td>{{ toCurrency(item.origin_price) }}</td>\n            <td>{{ toCurrency(item.price) }}</td>\n            <td>\n              <div class=\"form-check form-switch\">\n                <input\n                  class=\"form-check-input\"\n                  type=\"checkbox\"\n                  :id=\"'enabled' + key\"\n                  v-model=\"item.is_enabled\"\n                  :true-value=\"1\"\n                  :false-value=\"0\"\n                  @change=\"changeStatus(item)\"\n                />\n\n                <label v-if=\"item.is_enabled\" class=\"form-check-label\" :for=\"'enabled' + key\"\n                  >上架</label\n                >\n                <label v-else class=\"form-check-label\" :for=\"'enabled' + key\">未上架</label>\n              </div>\n            </td>\n            <td>\n              <button\n                type=\"button\"\n                class=\"btn btn-sm btn-secondary text-white\"\n                @click=\"openModal('edit', item)\"\n              >\n                編輯\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-sm btn-outline-secondary white-hover ms-2\"\n                @click=\"openModal('delete', item)\"\n              >\n                刪除\n              </button>\n              <button\n                class=\"btn btn-outline-secondary white-hover float-end p-0 lh-1 mt-2 me-4\"\n                @click=\"openCollapse(key)\"\n              >\n                <span\n                  class=\"material-icons text-lg align-bottom\"\n                  :class=\"{ 'arrow-rotate': key == isOpen.id && isOpen.open }\"\n                >\n                  arrow_drop_down\n                </span>\n              </button>\n            </td>\n          </tr>\n          <tr :class=\"{ 'table-primary': item.is_enabled }\">\n            <td colspan=\"8\" class=\"p-0 border-bottom border-secondary\">\n              <ProductCollapse ref=\"ProductCollapse\" :product=\"item\" :num=\"key\" />\n            </td>\n          </tr>\n        </template>\n      </tbody>\n    </table>\n    <div class=\"d-flex justify-content-between align-items-center py-4 px-6 bg-secondary \">\n      <p class=\"text-white\">目前有 {{ totalAmount }} 樣產品</p>\n      <Pagination :pagination=\"pagination\" @emit-page=\"getData\" />\n    </div>\n  </div>\n  <ProductModal :product=\"tempProduct\" ref=\"updateModal\" @update=\"updateProduct\" />\n\n  <DeleteModal :item=\"tempProduct\" :type=\"'normal'\" ref=\"delModal\" @delete=\"deleteProduct\" />\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination.vue';\nimport ProductCollapse from '@/components/Collapse.vue';\nimport DeleteModal from '@/components/Modal/DeleteModal.vue';\nimport ProductModal from '@/components/Modal/ProductModal.vue';\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      products: [],\n      pagination: {},\n      totalAmount: 0,\n      productsCategory: [],\n      tempProduct: {},\n      isOpen: {\n        id: null,\n        open: false,\n      },\n    };\n  },\n  inject: ['emitter'],\n  components: {\n    Pagination,\n    ProductCollapse,\n    DeleteModal,\n    ProductModal,\n  },\n\n  methods: {\n    getData(page = 1) {\n      this.isLoading = true;\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`,\n        )\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            this.products = res.data.products;\n            this.pagination = res.data.pagination;\n            this.isLoading = false;\n          } else {\n            console.log(res.data.messages);\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      this.$http\n        .get(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/all`)\n        .then((res) => {\n          if (res.data.success) {\n            const productsAll = Object.values(res.data.products);\n            this.totalAmount = productsAll.length;\n            productsAll.forEach((product) => {\n              if (!this.productsCategory.includes(product.category)) {\n                this.productsCategory.push(product.category);\n              }\n            });\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    openCollapse(id) {\n      if (this.isOpen.id === id) {\n        this.isOpen.open = !this.isOpen.open;\n      } else {\n        this.isOpen.id = id;\n        this.isOpen.open = true;\n      }\n      this.$refs.ProductCollapse.showCollapse(id);\n    },\n    openModal(type, item) {\n      if (type === 'edit') {\n        this.tempProduct = {\n          ...item,\n          formats:\n            item.formats === undefined\n              ? [\n                {\n                  format: '',\n                  content: '',\n                },\n              ]\n              : JSON.parse(JSON.stringify(item.formats)),\n          imagesUrl: item.imagesUrl === undefined ? [] : [...item.imagesUrl],\n        };\n        this.$refs.updateModal.openModal();\n      } else if (type === 'delete') {\n        this.tempProduct = { ...item };\n        this.$refs.delModal.openModal();\n      }\n    },\n    updateProduct(item) {\n      this.isLoading = true;\n      const data = {\n        data: item,\n      };\n      this.$http\n        .put(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`,\n          data,\n        )\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            this.emitter.emit('push-message', {\n              type: 'success',\n              message: res.data.message,\n            });\n            this.$refs.updateModal.hideModal();\n            this.getData(this.pagination.current_page);\n            this.isLoading = false;\n          } else {\n            this.emitter.emit('push-message', {\n              type: 'error',\n              message: res.data.message,\n            });\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    changeStatus(item) {\n      this.tempProduct = {\n        ...item,\n      };\n      this.updateProduct(this.tempProduct);\n    },\n    deleteProduct() {\n      this.isLoading = true;\n      this.$http\n        .delete(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`,\n        )\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            this.emitter.emit('push-message', {\n              type: 'success',\n              message: res.data.message,\n            });\n            this.$refs.delModal.hideModal();\n            this.getData(this.pagination.current_page);\n            this.isLoading = false;\n          } else {\n            this.emitter.emit('push-message', {\n              type: 'error',\n              message: res.data.message,\n            });\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n  mounted() {\n    this.getData();\n  },\n};\n</script>\n","<template>\n  <div class=\"collapse text-sm p-8\" :id=\"`collapseExample${num}`\" ref=\"collapse\">\n    <div class=\"d-flex mb-5\">\n      <div class=\"me-2 flex-shrink-0\">產品單位 :</div>\n      <div class=\"\">{{ product.unit }}</div>\n    </div>\n    <div class=\"d-flex mb-5\">\n      <div class=\"me-2 flex-shrink-0\">產品規格 :</div>\n      <div class=\"\">\n        <p v-for=\"(item, key) in product.formats\" :key=\"key\" class=\"mb-3\">\n          {{ item.format }} : {{ item.content }}\n        </p>\n      </div>\n    </div>\n    <div class=\"d-flex mb-5\">\n      <div class=\"me-2 flex-shrink-0\">產品描述 :</div>\n      <div class=\"\">{{ product.description }}</div>\n    </div>\n    <div class=\"d-flex mb-5\">\n      <div class=\"me-2 flex-shrink-0\">說明內容 :</div>\n      <div class=\"\">{{ product.content }}</div>\n    </div>\n    <div class=\"d-flex mb-5\">\n      <div class=\"me-2 flex-shrink-0\">輪播圖片 :</div>\n      <div class=\"\">\n        <div class=\"d-flex flex-wrap\">\n          <img\n            class=\"w-15 small-size me-3\"\n            v-for=\"(img, i) in product.imagesUrl\"\n            :src=\"img\"\n            :key=\"'img' + i\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Collapse } from 'bootstrap';\n\nexport default {\n  props: {\n    product: Object,\n    num: Number,\n  },\n  data() {\n    return {\n      collapse: [],\n    };\n  },\n  methods: {\n    showCollapse(id) {\n      const collapseElementList = [].slice.call(document.querySelectorAll('.collapse'));\n      this.collapse = collapseElementList.map((collapseEl, key) => {\n        if (key === id) {\n          // eslint-disable-next-line no-undef\n          return new Collapse(collapseEl, { toggle: false }).toggle();\n        }\n        // eslint-disable-next-line no-undef\n        return new Collapse(collapseEl, { toggle: false }).hide();\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./Collapse.vue?vue&type=template&id=389604f6\"\nimport script from \"./Collapse.vue?vue&type=script&lang=js\"\nexport * from \"./Collapse.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div\n    class=\"modal fade\"\n    id=\"updateModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-secondary text-white py-4\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">編輯產品</h5>\n\n          <button\n            type=\"button\"\n            class=\"btn-close btn-close-white\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <ProductForm :product=\"product\" :isAdd=\"false\" ref=\"productForm\" />\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary white-hover\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button type=\"button\" class=\"btn btn-secondary text-white\" @click=\"update\">\n            確認編輯\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\nimport ProductForm from '@/components/ProductForm.vue';\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n    },\n  },\n  components: {\n    ProductForm,\n  },\n  mixins: [modalMixin],\n  methods: {\n    update() {\n      const { productForm } = this.$refs;\n      productForm.$refs.addForm.validate().then((success) => {\n        console.log(success);\n        if (success.valid) {\n          this.$emit('update', this.product);\n        } else {\n          console.log('error');\n        }\n      });\n    },\n  },\n\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=36e2007e\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Admin.vue?vue&type=template&id=1e86c314\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","<template>\n  <Form v-slot=\"{ errors }\" ref=\"addForm\" class=\"text-dark\">\n    <div class=\"row\">\n      <div class=\"col-12 mb-8\">\n        <label for=\"productTitle\" class=\"form-label\">產品名稱<span v-if=\"isAdd\">必填</span></label>\n        <Field\n          type=\"text\"\n          class=\"form-control\"\n          id=\"productTitle\"\n          name=\"產品名稱\"\n          placeholder=\"輸入產品標題\"\n          rules=\"required\"\n          :class=\"{ 'is-backend-invalid': errors['產品名稱'] }\"\n          v-model.lazy.trim=\"tempProduct.title\"\n        ></Field>\n        <error-message name=\"產品名稱\" class=\"backend-invalid-feedback\"></error-message>\n      </div>\n      <div class=\"col-6 mb-8\">\n        <label for=\"productOriginPrice\" class=\"form-label\"\n          >產品原價<span v-if=\"isAdd\">必填</span></label\n        >\n        <Field\n          type=\"number\"\n          class=\"form-control\"\n          id=\"productOriginPrice\"\n          name=\"產品原價\"\n          min=\"0\"\n          placeholder=\"輸入產品原價\"\n          :rules=\"isPositive\"\n          :class=\"{ 'is-backend-invalid': errors['產品原價'] }\"\n          v-model.number=\"tempProduct.origin_price\"\n        ></Field>\n        <error-message name=\"產品原價\" class=\"backend-invalid-feedback\"></error-message>\n      </div>\n      <div class=\"col-6 mb-8\">\n        <label for=\"productPrice\" class=\"form-label\">產品售價<span v-if=\"isAdd\">必填</span></label>\n        <Field\n          type=\"number\"\n          class=\"form-control\"\n          id=\"productPrice\"\n          min=\"0\"\n          name=\"產品售價\"\n          placeholder=\"輸入產品售價\"\n          :rules=\"isPositive\"\n          :class=\"{ 'is-backend-invalid': errors['產品售價'] }\"\n          v-model.number=\"tempProduct.price\"\n        ></Field>\n        <error-message name=\"產品售價\" class=\"backend-invalid-feedback\"></error-message>\n      </div>\n    </div>\n    <div class=\"row row-cols-2 align-items-end\">\n      <div class=\"col mb-8\">\n        <label class=\"form-label\">產品分類<span v-if=\"isAdd\">必填</span></label>\n        <Field\n          name=\"產品分類\"\n          class=\"form-select\"\n          :class=\"{ 'is-backend-invalid': errors['產品分類'] }\"\n          placeholder=\"產品分類\"\n          rules=\"required\"\n          as=\"select\"\n          v-model=\"tempProduct.category\"\n        >\n          <option :disabled=\"product.category\">請選擇</option>\n          <option v-for=\"category in productsCategory\" :value=\"category\" :key=\"category\">{{\n            category\n          }}</option>\n        </Field>\n        <error-message name=\"產品分類\" class=\"backend-invalid-feedback\"></error-message>\n      </div>\n      <div class=\"col mb-8\">\n        <div v-if=\"isAddCategory\" class=\"d-flex\">\n          <input\n            type=\"text\"\n            v-model.trim=\"tempCategory\"\n            class=\"form-control\"\n            placeholder=\"新增分類\"\n          />\n          <div class=\"btn btn-secondary text-white flex-shrink-0 ms-4\" @click=\"addCategory\">\n            新增\n          </div>\n        </div>\n        <div v-else class=\"btn btn-secondary text-white\" @click=\"this.isAddCategory = true\">\n          新增產品分類\n        </div>\n      </div>\n    </div>\n    <div class=\"row row-cols-2 align-items-end\">\n      <div class=\"col \">\n        <label class=\"form-label\">產品規格</label>\n        <div\n          v-for=\"(item, key) in tempProduct.formats\"\n          class=\"d-flex align-items-center mb-8\"\n          :key=\"key\"\n        >\n          <input\n            type=\"text\"\n            name=\"規格\"\n            class=\" form-control  me-2\"\n            placeholder=\"規格\"\n            v-model=\"item.format\"\n          />\n          <p>:</p>\n          <input\n            type=\"text\"\n            name=\"內容\"\n            class=\"form-control ms-2\"\n            placeholder=\"內容\"\n            v-model=\"item.content\"\n          />\n        </div>\n      </div>\n      <div class=\"col mb-8\">\n        <div class=\"btn btn-secondary text-white\" @click=\"addFormat()\">\n          新增產品規格\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-6 mb-8\">\n        <label for=\"productUnit\" class=\"form-label\">產品單位<span v-if=\"isAdd\">必填</span></label>\n        <Field\n          type=\"text\"\n          class=\"form-control\"\n          id=\"productUnit\"\n          name=\"產品單位\"\n          placeholder=\"輸入產品單位\"\n          rules=\"required\"\n          :class=\"{ 'is-backend-invalid': errors['產品單位'] }\"\n          v-model.trim=\"tempProduct.unit\"\n        ></Field>\n        <error-message name=\"產品單位\" class=\"backend-invalid-feedback\"></error-message>\n      </div>\n      <div class=\"col-6 mb-8\">\n        <p class=\"mb-3\">是否上架產品</p>\n        <div class=\"form-check mt-4\">\n          <input\n            class=\"form-check-input\"\n            type=\"checkbox\"\n            name=\"check\"\n            id=\"flexCheckDefault\"\n            v-model=\"tempProduct.is_enabled\"\n            :true-value=\"1\"\n            :false-value=\"0\"\n          />\n          <label v-if=\"product.is_enabled\" class=\"form-check-label\" for=\"flexCheckDefault\"\n            >上架</label\n          >\n          <label v-else class=\"form-check-label\" for=\"flexCheckDefault\">未上架</label>\n        </div>\n      </div>\n\n      <div class=\"col-12 mb-8\">\n        <label for=\"productDescription\" class=\"form-label\">產品描述</label>\n        <textarea\n          type=\"text\"\n          rows=\"5\"\n          name=\"產品描述\"\n          class=\"form-control\"\n          id=\"productDescription\"\n          placeholder=\"輸入產品描述\"\n          v-model=\"tempProduct.description\"\n        ></textarea>\n      </div>\n      <div class=\"col-12 mb-8\">\n        <label for=\"productContent\" class=\"form-label\">說明內容</label>\n        <textarea\n          type=\"text\"\n          rows=\"5\"\n          name=\"說明內容\"\n          class=\"form-control\"\n          id=\"productContent\"\n          placeholder=\"輸入說明內容\"\n          v-model=\"tempProduct.content\"\n        ></textarea>\n      </div>\n      <div class=\"col-12 mb-8\">\n        <p class=\"mb-3\">主要圖片</p>\n        <div class=\"row row-cols-2 align-items-center\">\n          <div class=\"col\">\n            <label for=\"productImage\" class=\"form-label text-xs\">圖片位址</label>\n            <input\n              type=\"text\"\n              name=\"主要圖片\"\n              class=\"form-control mb-2\"\n              id=\"productImage\"\n              placeholder=\"輸入圖片位址\"\n              v-model=\"tempProduct.imageUrl\"\n            />\n            <p class=\"text-xs mb-2\">或</p>\n\n            <button\n              v-if=\"isUpload\"\n              class=\"btn btn-primary text-sm text-secondary\"\n              type=\"button\"\n              disabled\n            >\n              <span\n                class=\"spinner-border spinner-border-sm me-2\"\n                role=\"status\"\n                aria-hidden=\"true\"\n              ></span>\n              上傳中...\n            </button>\n            <label v-else class=\"btn btn-primary text-sm text-secondary\">\n              <input style=\"display: none\" type=\"file\" @change=\"uploadImage('main', $event)\" />\n              <span class=\"material-icons text-base \"> file_upload </span>\n              上傳圖片\n            </label>\n          </div>\n          <div class=\"col\">\n            <img class=\"w-100 h-auto\" :src=\"tempProduct.imageUrl\" alt=\"\" />\n          </div>\n        </div>\n      </div>\n      <div class=\"col-12 mb-8\">\n        <p class=\"mb-3\">輪播圖片</p>\n        <div class=\"row row-cols-3 align-items-end\">\n          <div v-for=\"(item, key) in tempProduct.imagesUrl\" class=\"col mb-8\" :key=\"key\">\n            <img class=\"w-100 h-auto\" :src=\"tempProduct.imagesUrl[key]\" alt=\"\" />\n\n            <label :for=\"'productImage' + key\" class=\"form-label text-xs\">圖片位址</label>\n            <input\n              type=\"text\"\n              name=\"輪播圖片\"\n              class=\"form-control mb-2\"\n              :id=\"'productImage' + key\"\n              placeholder=\"輸入圖片位址\"\n              v-model=\"tempProduct.imagesUrl[key]\"\n            />\n            <p class=\"text-xs  mb-2\">或</p>\n            <button\n              v-if=\"isUploads[key]\"\n              class=\"d-block w-100 btn btn-primary text-sm  text-secondary mb-4\"\n              type=\"button\"\n              disabled\n            >\n              <span\n                class=\"spinner-border spinner-border-sm\"\n                role=\"status\"\n                aria-hidden=\"true\"\n              ></span>\n              上傳中...\n            </button>\n            <label v-else class=\"d-block btn btn-primary text-sm text-secondary mb-4\">\n              <input style=\"display: none\" type=\"file\" @change=\"uploadImage(key, $event)\" />\n              <span class=\"material-icons text-base align-text-bottom\"> file_upload </span>\n              上傳圖片\n            </label>\n\n            <div\n              v-if=\"tempProduct.imagesUrl[key]\"\n              class=\"btn btn-outline-secondary text-xs white-hover\"\n              @click=\"deleteImage(key)\"\n            >\n              刪除圖片\n            </div>\n            <div\n              v-else\n              class=\"btn btn-outline-secondary white-hover text-xs\"\n              @click=\"deleteImage(key)\"\n            >\n              取消\n            </div>\n          </div>\n        </div>\n        <div class=\"btn btn-secondary text-white text-sm\" @click=\"createImage\">新增輪播圖片</div>\n      </div>\n    </div>\n\n  </Form>\n\n</template>\n\n<script>\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default() {\n        return {\n          formats: [\n            {\n              format: '',\n              content: '',\n            },\n          ],\n          imagesUrl: [],\n        };\n      },\n    },\n    isAdd: Boolean,\n  },\n  data() {\n    return {\n      tempProduct: {},\n      productsAll: [],\n      productsCategory: [],\n      isUpload: false,\n      isUploads: [],\n      isAddCategory: false,\n      tempCategory: '',\n    };\n  },\n  watch: {\n    product() {\n      this.tempProduct = this.product;\n    },\n  },\n\n  methods: {\n    getData() {\n      this.$http\n        .get(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`)\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            this.productsAll = res.data.products;\n            this.productsAll.forEach((product) => {\n              if (!this.productsCategory.includes(product.category)) {\n                this.productsCategory.push(product.category);\n              }\n            });\n          } else {\n            alert(res.data.message);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    addFormat() {\n      const formatObj = {\n        format: '',\n        content: '',\n      };\n      this.tempProduct.formats.push(formatObj);\n    },\n    addCategory() {\n      this.productsCategory.push(this.tempCategory);\n      alert(`新增${this.tempCategory}分類`);\n      this.tempCategory = '';\n      this.isAddCategory = false;\n    },\n    uploadImage(key, e) {\n      const file = e.target.files[0];\n\n      const formData = new FormData();\n      formData.append('file-to-upload', file);\n      if (key === 'main') {\n        this.isUpload = true;\n      } else {\n        this.isUploads[key] = true;\n      }\n      this.$http\n        .post(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`, formData)\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            if (key === 'main') {\n              this.tempProduct.imageUrl = res.data.imageUrl;\n              this.isUpload = false;\n            } else {\n              this.tempProduct.imagesUrl[key] = res.data.imageUrl;\n              this.isUploads[key] = false;\n            }\n          }\n        });\n    },\n    createImage() {\n      if (this.tempProduct.imagesUrl === undefined) {\n        this.tempProduct.imagesUrl = [];\n      }\n      this.isUploads.push(false);\n      this.tempProduct.imagesUrl.push('');\n    },\n    deleteImage(id) {\n      this.tempProduct.imagesUrl.splice(id, 1);\n      this.isUploads.pop();\n    },\n    isPositive(value) {\n      return value > 0 && value % 1 === 0 ? true : '請輸入正整數';\n    },\n    cleanForm() {\n      this.$refs.addForm.resetForm();\n      this.tempProduct.description = '';\n      this.tempProduct.content = '';\n      this.tempProduct.imageUrl = '';\n      this.tempProduct.formats = [\n        {\n          format: '',\n          content: '',\n        },\n      ];\n      this.tempProduct.imagesUrl = [];\n    },\n\n  },\n  created() {\n    if (this.isAdd) {\n      this.tempProduct = {\n        formats: [\n          {\n            format: '',\n            content: '',\n          },\n        ],\n        imagesUrl: [],\n      };\n    }\n    this.getData();\n  },\n};\n</script>\n","import { render } from \"./ProductForm.vue?vue&type=template&id=fa05205e\"\nimport script from \"./ProductForm.vue?vue&type=script&lang=js\"\nexport * from \"./ProductForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}