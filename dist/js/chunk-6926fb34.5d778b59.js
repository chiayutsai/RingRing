(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6926fb34"],{"057f":function(e,t,c){var o=c("fc6a"),r=c("241c").f,a={}.toString,n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(e){try{return r(e)}catch(t){return n.slice()}};e.exports.f=function(e){return n&&"[object Window]"==a.call(e)?i(e):r(o(e))}},"159b":function(e,t,c){var o=c("da84"),r=c("fdbc"),a=c("17c2"),n=c("9112");for(var i in r){var l=o[i],s=l&&l.prototype;if(s&&s.forEach!==a)try{n(s,"forEach",a)}catch(d){s.forEach=a}}},"17c2":function(e,t,c){"use strict";var o=c("b727").forEach,r=c("a640"),a=r("forEach");e.exports=a?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},"1dde":function(e,t,c){var o=c("d039"),r=c("b622"),a=c("2d00"),n=r("species");e.exports=function(e){return a>=51||!o((function(){var t=[],c=t.constructor={};return c[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2532:function(e,t,c){"use strict";var o=c("23e7"),r=c("5a34"),a=c("1d80"),n=c("ab13");o({target:"String",proto:!0,forced:!n("includes")},{includes:function(e){return!!~String(a(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,c){var o=c("861d"),r=c("c6b6"),a=c("b622"),n=a("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==r(e))}},"5a34":function(e,t,c){var o=c("44e7");e.exports=function(e){if(o(e))throw TypeError("The method doesn't accept regular expressions");return e}},"65f0":function(e,t,c){var o=c("861d"),r=c("e8b5"),a=c("b622"),n=a("species");e.exports=function(e,t){var c;return r(e)&&(c=e.constructor,"function"!=typeof c||c!==Array&&!r(c.prototype)?o(c)&&(c=c[n],null===c&&(c=void 0)):c=void 0),new(void 0===c?Array:c)(0===t?0:t)}},"746f":function(e,t,c){var o=c("428f"),r=c("5135"),a=c("e538"),n=c("9bf2").f;e.exports=function(e){var t=o.Symbol||(o.Symbol={});r(t,e)||n(t,e,{value:a.f(e)})}},8418:function(e,t,c){"use strict";var o=c("c04e"),r=c("9bf2"),a=c("5c6c");e.exports=function(e,t,c){var n=o(t);n in e?r.f(e,n,a(0,c)):e[n]=c}},"99af":function(e,t,c){"use strict";var o=c("23e7"),r=c("d039"),a=c("e8b5"),n=c("861d"),i=c("7b0b"),l=c("50c4"),s=c("8418"),d=c("65f0"),u=c("1dde"),b=c("b622"),f=c("2d00"),p=b("isConcatSpreadable"),m=9007199254740991,h="Maximum allowed index exceeded",O=f>=51||!r((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=u("concat"),j=function(e){if(!n(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)},g=!O||!v;o({target:"Array",proto:!0,forced:g},{concat:function(e){var t,c,o,r,a,n=i(this),u=d(n,0),b=0;for(t=-1,o=arguments.length;t<o;t++)if(a=-1===t?n:arguments[t],j(a)){if(r=l(a.length),b+r>m)throw TypeError(h);for(c=0;c<r;c++,b++)c in a&&s(u,b,a[c])}else{if(b>=m)throw TypeError(h);s(u,b++,a)}return u.length=b,u}})},a434:function(e,t,c){"use strict";var o=c("23e7"),r=c("23cb"),a=c("a691"),n=c("50c4"),i=c("7b0b"),l=c("65f0"),s=c("8418"),d=c("1dde"),u=d("splice"),b=Math.max,f=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var c,o,d,u,h,O,v=i(this),j=n(v.length),g=r(e,j),y=arguments.length;if(0===y?c=o=0:1===y?(c=0,o=j-g):(c=y-2,o=f(b(a(t),0),j-g)),j+c-o>p)throw TypeError(m);for(d=l(v,o),u=0;u<o;u++)h=g+u,h in v&&s(d,u,v[h]);if(d.length=o,c<o){for(u=g;u<j-o;u++)h=u+o,O=u+c,h in v?v[O]=v[h]:delete v[O];for(u=j;u>j-o+c;u--)delete v[u-1]}else if(c>o)for(u=j-o;u>g;u--)h=u+o-1,O=u+c-1,h in v?v[O]=v[h]:delete v[O];for(u=0;u<c;u++)v[u+g]=arguments[u+2];return v.length=j-o+c,d}})},a4d3:function(e,t,c){"use strict";var o=c("23e7"),r=c("da84"),a=c("d066"),n=c("c430"),i=c("83ab"),l=c("4930"),s=c("fdbf"),d=c("d039"),u=c("5135"),b=c("e8b5"),f=c("861d"),p=c("825a"),m=c("7b0b"),h=c("fc6a"),O=c("c04e"),v=c("5c6c"),j=c("7c73"),g=c("df75"),y=c("241c"),V=c("057f"),k=c("7418"),x=c("06cf"),N=c("9bf2"),w=c("d1e7"),P=c("9112"),C=c("6eeb"),B=c("5692"),U=c("f772"),S=c("d012"),T=c("90e3"),A=c("b622"),F=c("e538"),D=c("746f"),E=c("d44e"),M=c("69f3"),I=c("b727").forEach,L=U("hidden"),$="Symbol",_="prototype",J=A("toPrimitive"),q=M.set,z=M.getterFor($),Q=Object[_],R=r.Symbol,W=a("JSON","stringify"),G=x.f,H=N.f,K=V.f,X=w.f,Y=B("symbols"),Z=B("op-symbols"),ee=B("string-to-symbol-registry"),te=B("symbol-to-string-registry"),ce=B("wks"),oe=r.QObject,re=!oe||!oe[_]||!oe[_].findChild,ae=i&&d((function(){return 7!=j(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(e,t,c){var o=G(Q,t);o&&delete Q[t],H(e,t,c),o&&e!==Q&&H(Q,t,o)}:H,ne=function(e,t){var c=Y[e]=j(R[_]);return q(c,{type:$,tag:e,description:t}),i||(c.description=t),c},ie=s?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof R},le=function(e,t,c){e===Q&&le(Z,t,c),p(e);var o=O(t,!0);return p(c),u(Y,o)?(c.enumerable?(u(e,L)&&e[L][o]&&(e[L][o]=!1),c=j(c,{enumerable:v(0,!1)})):(u(e,L)||H(e,L,v(1,{})),e[L][o]=!0),ae(e,o,c)):H(e,o,c)},se=function(e,t){p(e);var c=h(t),o=g(c).concat(pe(c));return I(o,(function(t){i&&!ue.call(c,t)||le(e,t,c[t])})),e},de=function(e,t){return void 0===t?j(e):se(j(e),t)},ue=function(e){var t=O(e,!0),c=X.call(this,t);return!(this===Q&&u(Y,t)&&!u(Z,t))&&(!(c||!u(this,t)||!u(Y,t)||u(this,L)&&this[L][t])||c)},be=function(e,t){var c=h(e),o=O(t,!0);if(c!==Q||!u(Y,o)||u(Z,o)){var r=G(c,o);return!r||!u(Y,o)||u(c,L)&&c[L][o]||(r.enumerable=!0),r}},fe=function(e){var t=K(h(e)),c=[];return I(t,(function(e){u(Y,e)||u(S,e)||c.push(e)})),c},pe=function(e){var t=e===Q,c=K(t?Z:h(e)),o=[];return I(c,(function(e){!u(Y,e)||t&&!u(Q,e)||o.push(Y[e])})),o};if(l||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=T(e),c=function(e){this===Q&&c.call(Z,e),u(this,L)&&u(this[L],t)&&(this[L][t]=!1),ae(this,t,v(1,e))};return i&&re&&ae(Q,t,{configurable:!0,set:c}),ne(t,e)},C(R[_],"toString",(function(){return z(this).tag})),C(R,"withoutSetter",(function(e){return ne(T(e),e)})),w.f=ue,N.f=le,x.f=be,y.f=V.f=fe,k.f=pe,F.f=function(e){return ne(A(e),e)},i&&(H(R[_],"description",{configurable:!0,get:function(){return z(this).description}}),n||C(Q,"propertyIsEnumerable",ue,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:R}),I(g(ce),(function(e){D(e)})),o({target:$,stat:!0,forced:!l},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var c=R(t);return ee[t]=c,te[c]=t,c},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),o({target:"Object",stat:!0,forced:!l,sham:!i},{create:de,defineProperty:le,defineProperties:se,getOwnPropertyDescriptor:be}),o({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:fe,getOwnPropertySymbols:pe}),o({target:"Object",stat:!0,forced:d((function(){k.f(1)}))},{getOwnPropertySymbols:function(e){return k.f(m(e))}}),W){var me=!l||d((function(){var e=R();return"[null]"!=W([e])||"{}"!=W({a:e})||"{}"!=W(Object(e))}));o({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,c){var o,r=[e],a=1;while(arguments.length>a)r.push(arguments[a++]);if(o=t,(f(t)||void 0!==e)&&!ie(e))return b(t)||(t=function(e,t){if("function"==typeof o&&(t=o.call(this,e,t)),!ie(t))return t}),r[1]=t,W.apply(null,r)}})}R[_][J]||P(R[_],J,R[_].valueOf),E(R,$),S[L]=!0},a640:function(e,t,c){"use strict";var o=c("d039");e.exports=function(e,t){var c=[][e];return!!c&&o((function(){c.call(null,t||function(){throw 1},1)}))}},ab13:function(e,t,c){var o=c("b622"),r=o("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(c){try{return t[r]=!1,"/./"[e](t)}catch(o){}}return!1}},b727:function(e,t,c){var o=c("0366"),r=c("44ad"),a=c("7b0b"),n=c("50c4"),i=c("65f0"),l=[].push,s=function(e){var t=1==e,c=2==e,s=3==e,d=4==e,u=6==e,b=7==e,f=5==e||u;return function(p,m,h,O){for(var v,j,g=a(p),y=r(g),V=o(m,h,3),k=n(y.length),x=0,N=O||i,w=t?N(p,k):c||b?N(p,0):void 0;k>x;x++)if((f||x in y)&&(v=y[x],j=V(v,x,g),e))if(t)w[x]=j;else if(j)switch(e){case 3:return!0;case 5:return v;case 6:return x;case 2:l.call(w,v)}else switch(e){case 4:return!1;case 7:l.call(w,v)}return u?-1:s||d?d:w}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterOut:s(7)}},caad:function(e,t,c){"use strict";var o=c("23e7"),r=c("4d64").includes,a=c("44d2");o({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},da51:function(e,t,c){"use strict";c("a4d3"),c("e01a");var o=c("7a23"),r={class:"row"},a={class:"col-12 mb-8"},n={for:"productTitle",class:"form-label"},i=Object(o["createTextVNode"])("產品名稱"),l={key:0},s={class:"col-6 mb-8"},d={for:"productOriginPrice",class:"form-label"},u=Object(o["createTextVNode"])("產品原價"),b={key:0},f={class:"col-6 mb-8"},p={for:"productPrice",class:"form-label"},m=Object(o["createTextVNode"])("產品售價"),h={key:0},O={class:"row row-cols-2 align-items-end"},v={class:"col mb-8"},j={class:"form-label"},g=Object(o["createTextVNode"])("產品分類"),y={key:0},V={class:"col mb-8"},k={key:0,class:"d-flex"},x={class:"row row-cols-2 align-items-end"},N={class:"col "},w=Object(o["createVNode"])("label",{class:"form-label"},"產品規格",-1),P=Object(o["createVNode"])("p",null,":",-1),C={class:"col mb-8"},B={class:"row"},U={class:"col-6 mb-8"},S={for:"productUnit",class:"form-label"},T=Object(o["createTextVNode"])("產品單位"),A={key:0},F={class:"col-6 mb-8"},D=Object(o["createVNode"])("p",{class:"mb-3"},"是否上架產品",-1),E={class:"form-check mt-4"},M={key:0,class:"form-check-label",for:"flexCheckDefault"},I={key:1,class:"form-check-label",for:"flexCheckDefault"},L={class:"col-12 mb-8"},$=Object(o["createVNode"])("label",{for:"productDescription",class:"form-label"},"產品描述",-1),_={class:"col-12 mb-8"},J=Object(o["createVNode"])("label",{for:"productContent",class:"form-label"},"說明內容",-1),q={class:"col-12 mb-8"},z=Object(o["createVNode"])("p",{class:"mb-3"},"主要圖片",-1),Q={class:"row row-cols-2 align-items-center"},R={class:"col"},W=Object(o["createVNode"])("label",{for:"productImage",class:"form-label text-xs"},"圖片位址",-1),G=Object(o["createVNode"])("p",{class:"text-xs mb-2"},"或",-1),H={key:0,class:"btn btn-primary text-sm text-secondary",type:"button",disabled:""},K=Object(o["createVNode"])("span",{class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},null,-1),X=Object(o["createTextVNode"])(" 上傳中... "),Y={key:1,class:"btn btn-primary text-sm text-secondary"},Z=Object(o["createVNode"])("span",{class:"material-icons text-base "}," file_upload ",-1),ee=Object(o["createTextVNode"])(" 上傳圖片 "),te={class:"col"},ce={class:"col-12 mb-8"},oe=Object(o["createVNode"])("p",{class:"mb-3"},"輪播圖片",-1),re={class:"row row-cols-3 align-items-end"},ae=Object(o["createVNode"])("p",{class:"text-xs  mb-2"},"或",-1),ne={key:0,class:"d-block w-100 btn btn-primary text-sm  text-secondary mb-4",type:"button",disabled:""},ie=Object(o["createVNode"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),le=Object(o["createTextVNode"])(" 上傳中... "),se={key:1,class:"d-block btn btn-primary text-sm text-secondary mb-4"},de=Object(o["createVNode"])("span",{class:"material-icons text-base align-text-bottom"}," file_upload ",-1),ue=Object(o["createTextVNode"])(" 上傳圖片 ");function be(e,t,c,be,fe,pe){var me=this,he=Object(o["resolveComponent"])("Field"),Oe=Object(o["resolveComponent"])("error-message"),ve=Object(o["resolveComponent"])("Form");return Object(o["openBlock"])(),Object(o["createBlock"])(ve,{ref:"addForm",class:"text-dark"},{default:Object(o["withCtx"])((function(e){var be=e.errors;return[Object(o["createVNode"])("div",r,[Object(o["createVNode"])("div",a,[Object(o["createVNode"])("label",n,[i,c.isAdd?(Object(o["openBlock"])(),Object(o["createBlock"])("span",l,"必填")):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(he,{type:"text",class:["form-control",{"is-backend-invalid":be["產品名稱"]}],id:"productTitle",name:"產品名稱",placeholder:"輸入產品標題",rules:"required",modelValue:fe.tempProduct.title,"onUpdate:modelValue":t[1]||(t[1]=function(e){return fe.tempProduct.title=e}),modelModifiers:{lazy:!0,trim:!0}},null,8,["class","modelValue"]),Object(o["createVNode"])(Oe,{name:"產品名稱",class:"backend-invalid-feedback"})]),Object(o["createVNode"])("div",s,[Object(o["createVNode"])("label",d,[u,c.isAdd?(Object(o["openBlock"])(),Object(o["createBlock"])("span",b,"必填")):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(he,{type:"number",class:["form-control",{"is-backend-invalid":be["產品原價"]}],id:"productOriginPrice",name:"產品原價",min:"0",placeholder:"輸入產品原價",rules:pe.isPositive,modelValue:fe.tempProduct.origin_price,"onUpdate:modelValue":t[2]||(t[2]=function(e){return fe.tempProduct.origin_price=e}),modelModifiers:{number:!0}},null,8,["rules","class","modelValue"]),Object(o["createVNode"])(Oe,{name:"產品原價",class:"backend-invalid-feedback"})]),Object(o["createVNode"])("div",f,[Object(o["createVNode"])("label",p,[m,c.isAdd?(Object(o["openBlock"])(),Object(o["createBlock"])("span",h,"必填")):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(he,{type:"number",class:["form-control",{"is-backend-invalid":be["產品售價"]}],id:"productPrice",min:"0",name:"產品售價",placeholder:"輸入產品售價",rules:pe.isPositive,modelValue:fe.tempProduct.price,"onUpdate:modelValue":t[3]||(t[3]=function(e){return fe.tempProduct.price=e}),modelModifiers:{number:!0}},null,8,["rules","class","modelValue"]),Object(o["createVNode"])(Oe,{name:"產品售價",class:"backend-invalid-feedback"})])]),Object(o["createVNode"])("div",O,[Object(o["createVNode"])("div",v,[Object(o["createVNode"])("label",j,[g,c.isAdd?(Object(o["openBlock"])(),Object(o["createBlock"])("span",y,"必填")):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(he,{name:"產品分類",class:["form-select",{"is-backend-invalid":be["產品分類"]}],placeholder:"產品分類",rules:"required",as:"select",modelValue:fe.tempProduct.category,"onUpdate:modelValue":t[4]||(t[4]=function(e){return fe.tempProduct.category=e})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("option",{disabled:c.product.category},"請選擇",8,["disabled"]),(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(fe.productsCategory,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("option",{value:e,key:e},Object(o["toDisplayString"])(e),9,["value"])})),128))]})),_:2},1032,["class","modelValue"]),Object(o["createVNode"])(Oe,{name:"產品分類",class:"backend-invalid-feedback"})]),Object(o["createVNode"])("div",V,[fe.isAddCategory?(Object(o["openBlock"])(),Object(o["createBlock"])("div",k,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return fe.tempCategory=e}),class:"form-control",placeholder:"新增分類"},null,512),[[o["vModelText"],fe.tempCategory,void 0,{trim:!0}]]),Object(o["createVNode"])("div",{class:"btn btn-secondary text-white flex-shrink-0 ms-4",onClick:t[6]||(t[6]=function(){return pe.addCategory&&pe.addCategory.apply(pe,arguments)})}," 新增 ")])):(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:1,class:"btn btn-secondary text-white",onClick:t[7]||(t[7]=function(e){return me.isAddCategory=!0})}," 新增產品分類 "))])]),Object(o["createVNode"])("div",x,[Object(o["createVNode"])("div",N,[w,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(fe.tempProduct.formats,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"d-flex align-items-center mb-8",key:t},[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",name:"規格",class:" form-control  me-2",placeholder:"規格","onUpdate:modelValue":function(t){return e.format=t}},null,8,["onUpdate:modelValue"]),[[o["vModelText"],e.format]]),P,Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",name:"內容",class:"form-control ms-2",placeholder:"內容","onUpdate:modelValue":function(t){return e.content=t}},null,8,["onUpdate:modelValue"]),[[o["vModelText"],e.content]])])})),128))]),Object(o["createVNode"])("div",C,[Object(o["createVNode"])("div",{class:"btn btn-secondary text-white",onClick:t[8]||(t[8]=function(e){return pe.addFormat()})}," 新增產品規格 ")])]),Object(o["createVNode"])("div",B,[Object(o["createVNode"])("div",U,[Object(o["createVNode"])("label",S,[T,c.isAdd?(Object(o["openBlock"])(),Object(o["createBlock"])("span",A,"必填")):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(he,{type:"text",class:["form-control",{"is-backend-invalid":be["產品單位"]}],id:"productUnit",name:"產品單位",placeholder:"輸入產品單位",rules:"required",modelValue:fe.tempProduct.unit,"onUpdate:modelValue":t[9]||(t[9]=function(e){return fe.tempProduct.unit=e}),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),Object(o["createVNode"])(Oe,{name:"產品單位",class:"backend-invalid-feedback"})]),Object(o["createVNode"])("div",F,[D,Object(o["createVNode"])("div",E,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-check-input",type:"checkbox",name:"check",id:"flexCheckDefault","onUpdate:modelValue":t[10]||(t[10]=function(e){return fe.tempProduct.is_enabled=e}),"true-value":1,"false-value":0},null,512),[[o["vModelCheckbox"],fe.tempProduct.is_enabled]]),c.product.is_enabled?(Object(o["openBlock"])(),Object(o["createBlock"])("label",M,"上架")):(Object(o["openBlock"])(),Object(o["createBlock"])("label",I,"未上架"))])]),Object(o["createVNode"])("div",L,[$,Object(o["withDirectives"])(Object(o["createVNode"])("textarea",{type:"text",rows:"5",name:"產品描述",class:"form-control",id:"productDescription",placeholder:"輸入產品描述","onUpdate:modelValue":t[11]||(t[11]=function(e){return fe.tempProduct.description=e})},null,512),[[o["vModelText"],fe.tempProduct.description]])]),Object(o["createVNode"])("div",_,[J,Object(o["withDirectives"])(Object(o["createVNode"])("textarea",{type:"text",rows:"5",name:"說明內容",class:"form-control",id:"productContent",placeholder:"輸入說明內容","onUpdate:modelValue":t[12]||(t[12]=function(e){return fe.tempProduct.content=e})},null,512),[[o["vModelText"],fe.tempProduct.content]])]),Object(o["createVNode"])("div",q,[z,Object(o["createVNode"])("div",Q,[Object(o["createVNode"])("div",R,[W,Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",name:"主要圖片",class:"form-control mb-2",id:"productImage",placeholder:"輸入圖片位址","onUpdate:modelValue":t[13]||(t[13]=function(e){return fe.tempProduct.imageUrl=e})},null,512),[[o["vModelText"],fe.tempProduct.imageUrl]]),G,fe.isUpload?(Object(o["openBlock"])(),Object(o["createBlock"])("button",H,[K,X])):(Object(o["openBlock"])(),Object(o["createBlock"])("label",Y,[Object(o["createVNode"])("input",{style:{display:"none"},type:"file",onChange:t[14]||(t[14]=function(e){return pe.uploadImage("main",e)})},null,32),Z,ee]))]),Object(o["createVNode"])("div",te,[Object(o["createVNode"])("img",{class:"w-100 h-auto",src:fe.tempProduct.imageUrl,alt:""},null,8,["src"])])])]),Object(o["createVNode"])("div",ce,[oe,Object(o["createVNode"])("div",re,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(fe.tempProduct.imagesUrl,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"col mb-8",key:t},[Object(o["createVNode"])("img",{class:"w-100 h-auto",src:fe.tempProduct.imagesUrl[t],alt:""},null,8,["src"]),Object(o["createVNode"])("label",{for:"productImage"+t,class:"form-label text-xs"},"圖片位址",8,["for"]),Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",name:"輪播圖片",class:"form-control mb-2",id:"productImage"+t,placeholder:"輸入圖片位址","onUpdate:modelValue":function(e){return fe.tempProduct.imagesUrl[t]=e}},null,8,["id","onUpdate:modelValue"]),[[o["vModelText"],fe.tempProduct.imagesUrl[t]]]),ae,fe.isUploads[t]?(Object(o["openBlock"])(),Object(o["createBlock"])("button",ne,[ie,le])):(Object(o["openBlock"])(),Object(o["createBlock"])("label",se,[Object(o["createVNode"])("input",{style:{display:"none"},type:"file",onChange:function(e){return pe.uploadImage(t,e)}},null,40,["onChange"]),de,ue])),fe.tempProduct.imagesUrl[t]?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:2,class:"btn btn-outline-secondary text-xs white-hover",onClick:function(e){return pe.deleteImage(t)}}," 刪除圖片 ",8,["onClick"])):(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:3,class:"btn btn-outline-secondary white-hover text-xs",onClick:function(e){return pe.deleteImage(t)}}," 取消 ",8,["onClick"]))])})),128))]),Object(o["createVNode"])("div",{class:"btn btn-secondary text-white text-sm",onClick:t[15]||(t[15]=function(){return pe.createImage&&pe.createImage.apply(pe,arguments)})},"新增輪播圖片")])])]})),_:1},512)}c("99af"),c("159b"),c("caad"),c("2532"),c("a434");var fe={props:{product:{type:Object,default:function(){return{formats:[{format:"",content:""}],imagesUrl:[]}}},isAdd:Boolean},data:function(){return{tempProduct:{},productsAll:[],productsCategory:[],isUpload:!1,isUploads:[],isAddCategory:!1,tempCategory:""}},watch:{product:function(){this.tempProduct=this.product}},methods:{getData:function(){var e=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/","api/").concat("chiayu","/products/all")).then((function(t){console.log(t),t.data.success?(e.productsAll=t.data.products,e.productsAll.forEach((function(t){e.productsCategory.includes(t.category)||e.productsCategory.push(t.category)}))):alert(t.data.message)})).catch((function(e){console.log(e)}))},addFormat:function(){var e={format:"",content:""};this.tempProduct.formats.push(e)},addCategory:function(){this.productsCategory.push(this.tempCategory),alert("新增".concat(this.tempCategory,"分類")),this.tempCategory="",this.isAddCategory=!1},uploadImage:function(e,t){var c=this,o=t.target.files[0],r=new FormData;r.append("file-to-upload",o),"main"===e?this.isUpload=!0:this.isUploads[e]=!0,this.$http.post("".concat("https://vue3-course-api.hexschool.io/","api/").concat("chiayu","/admin/upload"),r).then((function(t){console.log(t),t.data.success&&("main"===e?(c.tempProduct.imageUrl=t.data.imageUrl,c.isUpload=!1):(c.tempProduct.imagesUrl[e]=t.data.imageUrl,c.isUploads[e]=!1))}))},createImage:function(){void 0===this.tempProduct.imagesUrl&&(this.tempProduct.imagesUrl=[]),this.isUploads.push(!1),this.tempProduct.imagesUrl.push("")},deleteImage:function(e){this.tempProduct.imagesUrl.splice(e,1),this.isUploads.pop()},isPositive:function(e){return e>0&&e%1===0||"請輸入正整數"},cleanForm:function(){this.$refs.addForm.resetForm(),this.tempProduct.description="",this.tempProduct.content="",this.tempProduct.imageUrl="",this.tempProduct.formats=[{format:"",content:""}],this.tempProduct.imagesUrl=[]}},created:function(){this.isAdd&&(this.tempProduct={formats:[{format:"",content:""}],imagesUrl:[]}),this.getData()}};fe.render=be;t["a"]=fe},dd08:function(e,t,c){"use strict";c.r(t);var o=c("7a23"),r=Object(o["createVNode"])("div",{class:"d-flex align-items-center justify-content-between mb-5 "},[Object(o["createVNode"])("h2",{class:"text-dark"},"新增產品")],-1),a={class:"bg-white rounded overflow-hidden border border-secondary "},n={class:"container-fluid py-6"},i={class:"d-flex justify-content-end border-top pt-6"};function l(e,t,c,l,s,d){var u=Object(o["resolveComponent"])("Loading"),b=Object(o["resolveComponent"])("ProductForm");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(u,{isLoading:s.isLoading},null,8,["isLoading"]),r,Object(o["createVNode"])("div",a,[Object(o["createVNode"])("div",n,[Object(o["createVNode"])(b,{isAdd:!0,ref:"productForm"},null,512),Object(o["createVNode"])("div",i,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary white-hover me-4",onClick:t[1]||(t[1]=function(){return d.clean&&d.clean.apply(d,arguments)})}," 重填產品資訊 "),Object(o["createVNode"])("button",{type:"submit",class:"btn btn-secondary text-white px-12",onClick:t[2]||(t[2]=Object(o["withModifiers"])((function(){return d.add&&d.add.apply(d,arguments)}),["prevent"]))}," 新增產品 ")])])])],64)}c("99af");var s=c("da51"),d={data:function(){return{isLoading:!1}},components:{ProductForm:s["a"]},inject:["emitter"],methods:{add:function(){var e=this,t=this.$refs.productForm;t.$refs.addForm.validate().then((function(c){if(c.valid){e.isLoading=!0;var o={data:t.tempProduct};e.$http.post("".concat("https://vue3-course-api.hexschool.io/","api/").concat("chiayu","/admin/product"),o).then((function(c){console.log(c),c.data.success?(e.emitter.emit("push-message",{type:"success",message:c.data.message}),t.cleanForm(),e.isLoading=!1):(e.emitter.emit("push-message",{type:"error",message:c.data.message}),e.isLoading=!1)})).catch((function(e){console.log(e)}))}}))},clean:function(){var e=this.$refs.productForm;e.cleanForm()}}};d.render=l;t["default"]=d},e01a:function(e,t,c){"use strict";var o=c("23e7"),r=c("83ab"),a=c("da84"),n=c("5135"),i=c("861d"),l=c("9bf2").f,s=c("e893"),d=a.Symbol;if(r&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},b=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof b?new d(e):void 0===e?d():d(e);return""===e&&(u[t]=!0),t};s(b,d);var f=b.prototype=d.prototype;f.constructor=b;var p=f.toString,m="Symbol(test)"==String(d("test")),h=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=p.call(e);if(n(u,e))return"";var c=m?t.slice(7,-1):t.replace(h,"$1");return""===c?void 0:c}}),o({global:!0,forced:!0},{Symbol:b})}},e538:function(e,t,c){var o=c("b622");t.f=o},e8b5:function(e,t,c){var o=c("c6b6");e.exports=Array.isArray||function(e){return"Array"==o(e)}}}]);
//# sourceMappingURL=chunk-6926fb34.5d778b59.js.map