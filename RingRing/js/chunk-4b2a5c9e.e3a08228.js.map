{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./src/views/backend/Articles.vue","webpack:///./src/components/Modal/ArticleModal.vue","webpack:///./src/components/Modal/ArticleModal.vue?7842","webpack:///./src/components/Modal/ViewArticleModal.vue","webpack:///./src/components/Modal/ViewArticleModal.vue?d211","webpack:///./src/views/backend/Articles.vue?720d"],"names":["_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","i","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","push","value","length","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","class","isLoading","to","articles","item","key","id","isPublic","imageUrl","src","title","description","tag","author","Date","create_at","toISOString","split","updateDate","type","getSingle","for","href","openModal","pagination","getArticle","article","tempArticle","ref","editArticle","updateArticle","deleteArticle","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","isAdd","update","props","Object","components","ArticleForm","mixins","modalMixin","methods","articleForm","this","$refs","addForm","validate","then","success","valid","Math","round","getTime","$emit","render","publicDate","alt","edit","data","watch","content","innerHTML","hideModal","inject","Pagination","DeleteModal","ArticleModal","ViewArticleModal","page","$http","get","res","console","log","messages","catch","updateModal","viewModal","delModal","put","emitter","emit","message","current_page","delete","mounted"],"mappings":"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","file":"js/chunk-4b2a5c9e.e3a08228.js","sourcesContent":["export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","<template>\n  <Loading :isLoading=\"isLoading\"></Loading>\n\n  <div class=\"d-flex align-items-center justify-content-between mb-5 \">\n    <h2 class=\"text-dark\">文章列表</h2>\n    <router-link :to=\"`/dashboard/newArticle`\" class=\"btn btn-secondary text-white shadow-none \"\n      >新增文章</router-link\n    >\n  </div>\n\n  <div class=\"bg-white rounded overflow-hidden border border-secondary  \">\n    <table class=\"table table-borderless mb-0\">\n      <thead class=\"bg-secondary text-white\">\n        <tr>\n          <th class=\"w-10\">文章主圖</th>\n          <th class=\"w-20\">文章標題</th>\n          <th class=\"w-20\">描述</th>\n          <th>文章分類</th>\n          <th>作者</th>\n\n          <th>建立時間</th>\n          <th>更新時間</th>\n          <th>是否公開</th>\n          <th class=\"text-center\">預覽</th>\n          <th>編輯 / 刪除</th>\n        </tr>\n      </thead>\n      <tbody>\n        <template v-for=\"(item, key) in articles\" :key=\"item.id\">\n          <tr :class=\"{ 'table-primary': item.isPublic }\">\n            <td class=\"w-10 \">\n              <img v-if=\"item.imageUrl\" class=\"w-100 small-size\" :src=\"item.imageUrl\" />\n            </td>\n            <td class=\"w-20 py-6\">{{ item.title }}</td>\n            <td class=\"w-20\">{{ item.description }}</td>\n            <td>\n              <p v-for=\"(tag, key) in item.tag\" :key=\"key\">＃{{ tag }}</p>\n            </td>\n            <td>{{ item.author }}</td>\n\n            <td>{{ new Date(item.create_at * 1000).toISOString().split(\"T\")[0] }}</td>\n            <td v-if=\"item.updateDate\">\n              {{ new Date(item.updateDate * 1000).toISOString().split(\"T\")[0] }}\n            </td>\n            <td v-else>\n              {{ new Date(item.create_at * 1000).toISOString().split(\"T\")[0] }}\n            </td>\n            <td>\n              <div class=\"form-check form-switch\">\n                <input\n                  class=\"form-check-input\"\n                  type=\"checkbox\"\n                  :id=\"'enabled' + key\"\n                  v-model=\"item.isPublic\"\n                  @click=\"getSingle(item, 'status')\"\n                />\n\n                <label v-if=\"item.isPublic\" class=\"form-check-label\" :for=\"'enabled' + key\"\n                  >公開</label\n                >\n                <label v-else class=\"form-check-label\" :for=\"'enabled' + key\">未公開</label>\n              </div>\n            </td>\n            <td>\n              <a\n                href=\"\"\n                class=\" text-secondary text-center shadow-none eye-hover\"\n                @click.prevent=\"getSingle(item, 'view')\"\n              >\n                <span class=\"material-icons text-lg \">\n                  visibility\n                </span>\n              </a>\n            </td>\n            <td>\n              <button\n                type=\"button\"\n                class=\"btn btn-sm btn-secondary text-white\"\n                @click=\"getSingle(item, 'modal')\"\n              >\n                編輯\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-sm btn-outline-secondary white-hover ms-2\"\n                @click=\"openModal('delete', item)\"\n              >\n                刪除\n              </button>\n            </td>\n          </tr>\n        </template>\n      </tbody>\n    </table>\n    <div class=\"d-flex justify-content-end align-items-center py-4 px-6 bg-secondary \">\n      <Pagination :pagination=\"pagination\" @emit-page=\"getArticle\" />\n    </div>\n  </div>\n  <ViewArticleModal :article=\"tempArticle\" ref=\"viewModal\" @edit=\"editArticle\" />\n\n  <ArticleModal :article=\"tempArticle\" ref=\"updateModal\" @update=\"updateArticle\" />\n  <DeleteModal :item=\"tempArticle\" :type=\"'normal'\" ref=\"delModal\" @delete=\"deleteArticle\" />\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination.vue';\nimport DeleteModal from '@/components/Modal/DeleteModal.vue';\nimport ArticleModal from '@/components/Modal/ArticleModal.vue';\nimport ViewArticleModal from '@/components/Modal/ViewArticleModal.vue';\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      articles: [],\n      pagination: {},\n      tempArticle: {},\n    };\n  },\n  inject: ['emitter'],\n  components: {\n    Pagination,\n    DeleteModal,\n    ArticleModal,\n    ViewArticleModal,\n  },\n\n  methods: {\n    getArticle(page = 1) {\n      this.isLoading = true;\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/articles?page=${page}`,\n        )\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            this.articles = res.data.articles;\n            this.pagination = res.data.pagination;\n            this.isLoading = false;\n          } else {\n            console.log(res.data.messages);\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    getSingle(item, type) {\n      this.isLoading = true;\n      this.$http\n        .get(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/article/${item.id}`)\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            this.tempArticle = res.data.article;\n\n            this.isLoading = false;\n            if (type === 'modal') {\n              if (!this.tempArticle.tag) {\n                this.tempArticle.tag = [];\n              }\n              this.openModal('edit', this.tempArticle);\n            } else if (type === 'status') {\n              this.tempArticle.isPublic = !this.tempArticle.isPublic;\n              this.updateArticle(this.tempArticle);\n            } else if (type === 'view') {\n              this.openModal('view', this.tempArticle);\n            }\n          } else {\n            console.log(res.data.messages);\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    openModal(type, item) {\n      if (type === 'edit') {\n        this.$refs.updateModal.openModal();\n      } else if (type === 'view') {\n        this.$refs.viewModal.openModal();\n      } else if (type === 'delete') {\n        this.tempArticle = { ...item };\n        this.$refs.delModal.openModal();\n      }\n    },\n    updateArticle(item) {\n      this.isLoading = true;\n      const data = {\n        data: item,\n      };\n\n      this.$http\n        .put(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/article/${item.id}`,\n          data,\n        )\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            this.emitter.emit('push-message', {\n              type: 'success',\n              message: res.data.message,\n            });\n            this.$refs.updateModal.hideModal();\n            this.getArticle(this.pagination.current_page);\n            this.isLoading = false;\n          } else {\n            this.emitter.emit('push-message', {\n              type: 'error',\n              message: res.data.message,\n            });\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n\n    deleteArticle() {\n      this.isLoading = true;\n      this.$http\n        .delete(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/article/${this.tempArticle.id}`,\n        )\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            this.emitter.emit('push-message', {\n              type: 'success',\n              message: res.data.message,\n            });\n            this.$refs.delModal.hideModal();\n            this.getArticle(this.pagination.current_page);\n            this.isLoading = false;\n          } else {\n            this.emitter.emit('push-message', {\n              type: 'error',\n              message: res.data.message,\n            });\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    editArticle() {\n      console.log('edit');\n      this.$refs.updateModal.openModal();\n    },\n  },\n  mounted() {\n    this.getArticle();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"updateModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-secondary text-white py-4\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">編輯文章</h5>\n\n          <button\n            type=\"button\"\n            class=\"btn-close btn-close-white\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <ArticleForm :article=\"article\" :isAdd=\"false\" ref=\"articleForm\" />\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary white-hover\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button type=\"button\" class=\"btn btn-secondary text-white\" @click=\"update\">\n            確認編輯\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\nimport ArticleForm from '@/components/ArticleForm.vue';\n\nexport default {\n  props: {\n    article: {\n      type: Object,\n    },\n  },\n\n  components: {\n    ArticleForm,\n  },\n  mixins: [modalMixin],\n  methods: {\n    update() {\n      const { articleForm } = this.$refs;\n      articleForm.$refs.addForm.validate().then((success) => {\n        if (success.valid) {\n          const updateDate = Math.round(new Date().getTime() / 1000);\n          this.updateArticle = {\n            updateDate,\n            ...this.article,\n          };\n          this.$emit('update', this.updateArticle);\n        }\n      });\n    },\n  },\n\n};\n</script>\n","import { render } from \"./ArticleModal.vue?vue&type=template&id=31808722\"\nimport script from \"./ArticleModal.vue?vue&type=script&lang=js\"\nexport * from \"./ArticleModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div\n    class=\"modal fade\"\n    id=\"updateModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-secondary text-white py-4\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ article.title }}</h5>\n\n          <button\n            type=\"button\"\n            class=\"btn-close btn-close-white\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body text-dark\">\n          <h2 class=\"mb-4\">{{ article.title }}</h2>\n          <div class=\"d-flex mb-4\">\n            <div\n              v-for=\"(item, key) in article.tag\"\n              :key=\"key\"\n              class=\"bg-primary py-1 px-4 rounded-pill text-xs me-4\"\n            >\n              #{{ item }}\n            </div>\n          </div>\n          <div class=\"d-flex justify-content-between  mb-4\">\n            <p>作者 : {{ article.author }}</p>\n            <p>發布日期 : {{publicDate}}</p>\n          </div>\n          <img class=\"w-100 mb-6\" v-if=\"article.imageUrl\" :src=\"article.imageUrl\" alt=\"\" />\n\n          <div ref=\"content\"></div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary white-hover\"\n            data-bs-dismiss=\"modal\"\n          >\n            關閉\n          </button>\n          <button type=\"button\" class=\"btn btn-secondary text-white\" @click=\"edit\">\n            編輯文章\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    article: {\n      type: Object,\n    },\n  },\n  data() {\n    return {\n      publicDate: '',\n    };\n  },\n  watch: {\n    article() {\n      [this.publicDate] = new Date(this.article.create_at * 1000).toISOString().split('T');\n      this.$refs.content.innerHTML = this.article.content;\n    },\n  },\n  mixins: [modalMixin],\n  methods: {\n    edit() {\n      this.hideModal();\n      this.$emit('edit');\n    },\n  },\n\n};\n</script>\n","import { render } from \"./ViewArticleModal.vue?vue&type=template&id=ba7b2b24\"\nimport script from \"./ViewArticleModal.vue?vue&type=script&lang=js\"\nexport * from \"./ViewArticleModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Articles.vue?vue&type=template&id=4506f1c3\"\nimport script from \"./Articles.vue?vue&type=script&lang=js\"\nexport * from \"./Articles.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}